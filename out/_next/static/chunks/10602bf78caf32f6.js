(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},59438,e=>{"use strict";var t=e.i(43476),s=e.i(75157);function a({children:e,className:a,hoverEffect:i=!0}){return(0,t.jsxs)("div",{className:(0,s.cn)("glass rounded-3xl p-6 sm:p-8 lg:p-10 relative overflow-hidden group transition-transform duration-300 will-change-transform",i&&"glass-hover hover:-translate-y-1 hover:shadow-2xl",a),children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e]})}e.s(["GlassCard",()=>a])},43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},49770,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(59438),i=e.i(83814),r=e.i(7486),l=e.i(43432),n=e.i(63488),o=e.i(27612),c=e.i(11605);e.i(51718);var d=e.i(18357);e.i(36180);var h=e.i(98925),x=e.i(87486);function m(){let e=(0,i.useT)(),[m,u]=(0,s.useState)(!1),[p,f]=(0,s.useState)([]),[w,g]=(0,s.useState)(null),[b,N]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(c.isMockMode){if(!window.localStorage.getItem("mock_admin_user"))return void window.location.replace("/admin/login");u(!0)}else{let e=(0,d.onAuthStateChanged)(c.auth,e=>{e?u(!0):window.location.replace("/admin/login")});return()=>e()}if(c.isMockMode){f([{id:"corp1",companyName:"Tech Solutions Ltd",contactPerson:"Mike Ross",email:"mike@techsolutions.com",phone:"0501112233",deviceCount:"50+",message:"We need regular maintenance for our office laptops (approx 50 units).",createdAt:new Date().toISOString(),status:"New"},{id:"corp2",companyName:"Creative Agency",contactPerson:"Sarah Lee",email:"sarah@creative.com",phone:"0554445566",deviceCount:"10-20",message:"Looking for a service contract for our iMacs.",createdAt:new Date(Date.now()-1728e5).toISOString(),status:"Contacted"}]),N(!1);return}let e=(0,h.query)((0,h.collection)(c.db,"corporate_requests"),(0,h.orderBy)("createdAt","desc")),t=(0,h.onSnapshot)(e,e=>{f(e.docs.map(e=>({id:e.id,...e.data()}))),N(!1)});return()=>t()},[]);let v=async(e,t)=>{if(c.isMockMode){f(p.map(s=>s.id===e?{...s,status:t}:s)),w?.id===e&&g(e=>e?{...e,status:t}:null);return}await (0,h.updateDoc)((0,h.doc)(c.db,"corporate_requests",e),{status:t}),w?.id===e&&g(e=>e?{...e,status:t}:null)},j=async t=>{if(confirm(e("Delete this request?"))){if(c.isMockMode){f(p.filter(e=>e.id!==t)),w?.id===t&&g(null);return}await (0,h.deleteDoc)((0,h.doc)(c.db,"corporate_requests",t)),w?.id===t&&g(null)}};return m?(0,t.jsxs)("section",{className:"pt-2 pb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:e("Corporate Requests")}),p.filter(e=>"New"===e.status).length>0&&(0,t.jsxs)(x.Badge,{variant:"destructive",className:"ml-2",children:[p.filter(e=>"New"===e.status).length," ",e("New")]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 h-[600px]",children:[(0,t.jsx)(a.GlassCard,{className:"overflow-hidden flex flex-col",children:(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:[0===p.length&&(0,t.jsx)("p",{className:"text-white/30 text-center py-10",children:e("No requests")}),p.map(s=>(0,t.jsxs)("div",{onClick:()=>g(s),className:`p-4 rounded-xl border cursor-pointer transition-colors ${w?.id===s.id?"bg-cyan-500/10 border-cyan-500/50":"New"===s.status?"bg-white/10 border-white/20 font-semibold":"bg-white/5 border-white/10"}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,t.jsxs)("span",{className:"font-medium flex items-center gap-2",children:[(0,t.jsx)(r.Building2,{className:"w-4 h-4 text-cyan-400"}),s.companyName]}),(0,t.jsx)("span",{className:"text-xs text-white/50",children:s.createdAt?.toDate?s.createdAt.toDate().toLocaleDateString():e("Just now")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsx)("p",{className:"text-sm text-white/70",children:s.contactPerson}),(0,t.jsx)(x.Badge,{variant:"outline",className:"New"===s.status?"border-green-500 text-green-500":"Contacted"===s.status?"border-blue-500 text-blue-500":"border-white/30 text-white/50",children:e(s.status)})]})]},s.id))]})}),(0,t.jsx)(a.GlassCard,{className:"flex flex-col",children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6 border-b border-white/10 pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold flex items-center gap-2",children:w.companyName}),(0,t.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,t.jsxs)("p",{className:"text-sm flex items-center gap-2 text-white/70",children:[(0,t.jsx)("span",{className:"text-white/40",children:e("Contact:")})," ",w.contactPerson]}),(0,t.jsxs)("p",{className:"text-sm flex items-center gap-2 text-white/70",children:[(0,t.jsx)(n.Mail,{className:"w-3 h-3"})," ",w.email]}),(0,t.jsxs)("p",{className:"text-sm flex items-center gap-2 text-white/70",children:[(0,t.jsx)(l.Phone,{className:"w-3 h-3"})," ",w.phone]}),(0,t.jsxs)("p",{className:"text-sm flex items-center gap-2 text-white/70",children:[(0,t.jsx)("span",{className:"text-white/40",children:e("Devices:")})," ",w.deviceCount]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("button",{onClick:()=>j(w.id),className:"p-2 rounded-lg hover:bg-red-500/20 text-white/50 hover:text-red-400 transition-colors self-end",children:(0,t.jsx)(o.Trash2,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:["New"===w.status&&(0,t.jsx)("button",{onClick:()=>v(w.id,"Contacted"),className:"text-xs bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full border border-blue-500/50 hover:bg-blue-500/30 transition-colors",children:e("Mark Contacted")}),"Closed"!==w.status&&(0,t.jsx)("button",{onClick:()=>v(w.id,"Closed"),className:"text-xs bg-white/5 text-white/50 px-3 py-1 rounded-full border border-white/10 hover:bg-white/10 transition-colors",children:e("Close Request")})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 bg-white/5 rounded-xl p-4 border border-white/10 text-sm whitespace-pre-wrap overflow-y-auto",children:[(0,t.jsx)("h4",{className:"text-xs text-white/40 uppercase tracking-wider mb-2",children:e("Message")}),w.message]})]}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-white/30",children:e("Select a request to view details")})})]})]}):null}e.s(["default",()=>m])}]);