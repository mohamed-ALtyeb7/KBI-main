(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59438,e=>{"use strict";var t=e.i(43476),s=e.i(75157);function a({children:e,className:a,hoverEffect:i=!0}){return(0,t.jsxs)("div",{className:(0,s.cn)("glass rounded-3xl p-6 sm:p-8 lg:p-10 relative overflow-hidden group transition-transform duration-300 will-change-transform",i&&"glass-hover hover:-translate-y-1 hover:shadow-2xl",a),children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e]})}e.s(["GlassCard",()=>a])},99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},76639,e=>{"use strict";var t=e.i(43476),s=e.i(26999),a=e.i(95926),i=e.i(75157);function n({...e}){return(0,t.jsx)(s.Root,{"data-slot":"dialog",...e})}function r({...e}){return(0,t.jsx)(s.Trigger,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,t.jsx)(s.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...a}){return(0,t.jsx)(s.Overlay,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function d({className:e,children:n,showCloseButton:r=!0,...d}){return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(s.Content,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[n,r&&(0,t.jsxs)(s.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(a.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...s})}function p({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function u({className:e,...a}){return(0,t.jsx)(s.Title,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...a})}function h({className:e,...a}){return(0,t.jsx)(s.Description,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>n,"DialogContent",()=>d,"DialogDescription",()=>h,"DialogFooter",()=>p,"DialogHeader",()=>c,"DialogTitle",()=>u,"DialogTrigger",()=>r])},88844,e=>{"use strict";let t=(0,e.i(75254).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},57428,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(20783),i=e.i(30030),n=e.i(81140),r=e.i(69340),l=e.i(99682),o=e.i(35804),d=e.i(96626),c=e.i(48425),p="Checkbox",[u,h]=(0,i.createContextScope)(p),[m,x]=u(p),f=s.forwardRef((e,i)=>{let{__scopeCheckbox:l,name:o,checked:d,defaultChecked:p,required:u,disabled:h,value:x="on",onCheckedChange:f,form:g,...b}=e,[w,k]=s.useState(null),N=(0,a.useComposedRefs)(i,e=>k(e)),C=s.useRef(!1),D=!w||g||!!w.closest("form"),[I=!1,P]=(0,r.useControllableState)({prop:d,defaultProp:p,onChange:f}),S=s.useRef(I);return s.useEffect(()=>{let e=w?.form;if(e){let t=()=>P(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[w,P]),(0,t.jsxs)(m,{scope:l,state:I,disabled:h,children:[(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":j(I)?"mixed":I,"aria-required":u,"data-state":y(I),"data-disabled":h?"":void 0,disabled:h,value:x,...b,ref:N,onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(e.onClick,e=>{P(e=>!!j(e)||!e),D&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),D&&(0,t.jsx)(v,{control:w,bubbles:!C.current,name:o,value:x,checked:I,required:u,disabled:h,form:g,style:{transform:"translateX(-100%)"},defaultChecked:!j(p)&&p})]})});f.displayName=p;var g="CheckboxIndicator",b=s.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:i,...n}=e,r=x(g,a);return(0,t.jsx)(d.Presence,{present:i||j(r.state)||!0===r.state,children:(0,t.jsx)(c.Primitive.span,{"data-state":y(r.state),"data-disabled":r.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...e.style}})})});b.displayName=g;var v=e=>{let{control:a,checked:i,bubbles:n=!0,defaultChecked:r,...d}=e,c=s.useRef(null),p=(0,l.usePrevious)(i),u=(0,o.useSize)(a);s.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==i&&t){let s=new Event("click",{bubbles:n});e.indeterminate=j(i),t.call(e,!j(i)&&i),e.dispatchEvent(s)}},[p,i,n]);let h=s.useRef(!j(i)&&i);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r??h.current,...d,tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return"indeterminate"===e}function y(e){return j(e)?"indeterminate":e?"checked":"unchecked"}var w=e.i(78784),k=e.i(75157);function N({className:e,...s}){return(0,t.jsx)(f,{"data-slot":"checkbox",className:(0,k.cn)("peer bg-white/5 text-white size-6 shrink-0 rounded-full border-2 border-white/20 shadow-xs transition-[border,background-color] outline-none hover:border-cyan-400 focus-visible:border-cyan-500 focus-visible:ring-cyan-500/30 focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-cyan-500 data-[state=checked]:border-cyan-500 data-[state=checked]:text-black",e),...s,children:(0,t.jsx)(b,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(w.CheckIcon,{className:"size-4"})})})}e.s(["Checkbox",()=>N],57428)},50025,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(59438),i=e.i(83814),n=e.i(19455),r=e.i(93479),l=e.i(57428),o=e.i(76639),d=e.i(11605);e.i(36180);var c=e.i(98925),p=e.i(27612),u=e.i(7233),h=e.i(88844),m=e.i(61911);function x(){let e=(0,i.useT)(),[x,f]=(0,s.useState)(!0),[g,b]=(0,s.useState)([]),[v,j]=(0,s.useState)([]),[y,w]=(0,s.useState)(!1),[k,N]=(0,s.useState)(null),[C,D]=(0,s.useState)({name:"",phone:"",email:"",partsIds:[]});(0,s.useEffect)(()=>{if(d.isMockMode){b(e=>e.length?e:[{id:"mock-s1",name:"Default Supplier",phone:"971500000000",email:"supplier@example.com",partsIds:[]}]),j(e=>e.length?e:[{id:"mock-p1",name:"Sample Part",sku:"SAMPLE-001"}]);return}let e=(0,c.onSnapshot)((0,c.collection)(d.db,"suppliers"),e=>{b(e.docs.map(e=>({id:e.id,...e.data()})))}),t=(0,c.onSnapshot)((0,c.collection)(d.db,"parts"),e=>{j(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>{e(),t()}},[]);let I=()=>{D({name:"",phone:"",email:"",partsIds:[]}),N(null)},P=async()=>{if(C.name.trim()&&C.phone.trim()){if(k)if(d.isMockMode)b(e=>e.map(e=>e.id===k.id?{...e,...C}:e));else for(let e of(await (0,c.updateDoc)((0,c.doc)(d.db,"suppliers",k.id),{name:C.name,phone:C.phone,email:C.email||"",partsIds:C.partsIds}),v))C.partsIds.includes(e.id)?await (0,c.updateDoc)((0,c.doc)(d.db,"parts",e.id),{supplier:k.id}):e.supplier===k.id&&await (0,c.updateDoc)((0,c.doc)(d.db,"parts",e.id),{supplier:""});else if(d.isMockMode){let e=`mock-${Date.now()}`;b(t=>[...t,{id:e,name:C.name,phone:C.phone,email:C.email||"",partsIds:C.partsIds}])}else{let e=await (0,c.addDoc)((0,c.collection)(d.db,"suppliers"),{name:C.name,phone:C.phone,email:C.email||"",partsIds:C.partsIds});for(let t of C.partsIds)await (0,c.updateDoc)((0,c.doc)(d.db,"parts",t),{supplier:e.id})}w(!1),I()}},S=async t=>{if(confirm(e("Delete this supplier?")))if(d.isMockMode)b(e=>e.filter(e=>e.id!==t));else for(let e of(await (0,c.deleteDoc)((0,c.doc)(d.db,"suppliers",t)),v.filter(e=>e.supplier===t)))await (0,c.updateDoc)((0,c.doc)(d.db,"parts",e.id),{supplier:""})},M=(0,s.useMemo)(()=>{let e={};for(let t of v)t.supplier&&(e[t.supplier]=(e[t.supplier]||0)+1);return e},[v]);return x?(0,t.jsxs)("section",{className:"pt-2 pb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(m.Users,{className:"w-5 h-5 text-cyan-400"})," ",e("Suppliers")]}),(0,t.jsxs)(n.Button,{onClick:()=>{I(),w(!0)},className:"bg-cyan-500 hover:bg-cyan-400 text-black",children:[(0,t.jsx)(u.Plus,{className:"w-4 h-4 mr-2"})," ",e("Add Supplier")]})]}),(0,t.jsx)(a.GlassCard,{className:"p-0 overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm text-white/80",children:[(0,t.jsx)("thead",{className:"bg-white/5 text-white border-b border-white/10",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4 font-medium",children:e("Name")}),(0,t.jsx)("th",{className:"p-4 font-medium",children:e("Phone")}),(0,t.jsx)("th",{className:"p-4 font-medium",children:e("Email")}),(0,t.jsx)("th",{className:"p-4 font-medium",children:e("Linked Parts")}),(0,t.jsx)("th",{className:"p-4 font-medium text-right",children:e("Actions")})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-white/5",children:[g.map(s=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"font-medium text-white",children:s.name})}),(0,t.jsx)("td",{className:"p-4",children:s.phone}),(0,t.jsx)("td",{className:"p-4",children:s.email||"-"}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"font-mono bg-cyan-500/10 text-cyan-400 px-2 py-1 rounded",children:M[s.id]||0})}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(n.Button,{size:"sm",variant:"ghost",className:"hover:bg-white/10",onClick:()=>{D({name:s.name,phone:s.phone,email:s.email||"",partsIds:s.partsIds||[]}),N(s),w(!0)},children:e("Edit")}),(0,t.jsx)(n.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>S(s.id),children:(0,t.jsx)(p.Trash2,{className:"w-4 h-4 text-red-400"})})]})})]},s.id)),0===g.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"p-8 text-center text-white/40",children:e("No suppliers found")})})]})]})})}),(0,t.jsx)(o.Dialog,{open:y,onOpenChange:e=>!e&&w(!1),children:(0,t.jsxs)(o.DialogContent,{className:"bg-zinc-950 border-white/10 text-white max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(o.DialogHeader,{children:(0,t.jsx)(o.DialogTitle,{children:k?e("Edit Supplier"):e("Add Supplier")})}),(0,t.jsxs)("div",{className:"space-y-4 py-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-xs text-white/50 mb-1 block",children:[e("Name")," *"]}),(0,t.jsx)(r.Input,{value:C.name,onChange:e=>D({...C,name:e.target.value}),className:"bg-white/5 border-white/10"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-xs text-white/50 mb-1 block",children:[e("Phone")," *"]}),(0,t.jsx)(r.Input,{value:C.phone,onChange:e=>D({...C,phone:e.target.value}),className:"bg-white/5 border-white/10"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-white/50 mb-1 block",children:e("Email")}),(0,t.jsx)(r.Input,{type:"email",value:C.email,onChange:e=>D({...C,email:e.target.value}),className:"bg-white/5 border-white/10"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs text-white/50 mb-1 block",children:e("Link Parts")}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-2",children:[v.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10",children:[(0,t.jsx)(l.Checkbox,{id:`part-${e.id}`,checked:C.partsIds.includes(e.id),onCheckedChange:()=>{var t;return t=e.id,void D(e=>{let s=e.partsIds.includes(t)?e.partsIds.filter(e=>e!==t):[...e.partsIds,t];return{...e,partsIds:s}})}}),(0,t.jsxs)("label",{htmlFor:`part-${e.id}`,className:"text-xs text-white/80 flex-1 truncate",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(h.Package,{className:"w-3 h-3 text-cyan-400"})," ",e.name]}),(0,t.jsxs)("span",{className:"text-white/40",children:[" â€¢ ",e.sku]})]})]},e.id)),0===v.length&&(0,t.jsx)("div",{className:"text-white/40 text-sm",children:e("No parts available")})]})]})]}),(0,t.jsxs)(o.DialogFooter,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>w(!1),className:"border-white/10 text-white hover:bg-white/10",children:e("Cancel")}),(0,t.jsx)(n.Button,{onClick:P,className:"bg-cyan-500 hover:bg-cyan-400 text-black",children:k?e("Save"):e("Add")})]})]})})]}):null}e.s(["default",()=>x])}]);