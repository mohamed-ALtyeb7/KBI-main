(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59438,e=>{"use strict";var a=e.i(43476),t=e.i(75157);function s({children:e,className:s,hoverEffect:i=!0}){return(0,a.jsxs)("div",{className:(0,t.cn)("glass rounded-3xl p-6 sm:p-8 lg:p-10 relative overflow-hidden group transition-transform duration-300 will-change-transform",i&&"glass-hover hover:-translate-y-1 hover:shadow-2xl",s),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e]})}e.s(["GlassCard",()=>s])},43432,e=>{"use strict";let a=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>a],43432)},10204,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(48425),i=t.forwardRef((e,t)=>(0,a.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var l=e.i(75157);function c({className:e,...t}){return(0,a.jsx)(i,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>c],10204)},98919,e=>{"use strict";let a=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>a],98919)},56909,e=>{"use strict";let a=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},82148,73708,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(19455),i=e.i(93479),l=e.i(11605);e.i(61086);var c=e.i(27215),n=e.i(31278),r=e.i(37727);let d=(0,e.i(75254).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function o({value:e,onChange:o,disabled:h,path:x="uploads"}){let[m,p]=(0,t.useState)(!1),u=async e=>{if(!e.target.files||0===e.target.files.length)return;let a=e.target.files[0];p(!0);try{if(l.isMockMode)await new Promise(e=>setTimeout(e,1500)),o("https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3");else{let e=(0,c.ref)(l.storage,`${x}/${Date.now()}_${a.name}`);await (0,c.uploadBytes)(e,a);let t=await (0,c.getDownloadURL)(e);o(t)}}catch(e){alert("Upload failed")}finally{p(!1)}};return e?(0,a.jsxs)("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden border border-white/10 group bg-black/20",children:[(0,a.jsx)("img",{src:e,alt:"Upload",className:"w-full h-full object-cover"}),(0,a.jsx)("button",{onClick:()=>o(""),className:"absolute top-1 right-1 p-1 bg-black/70 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500",type:"button",children:(0,a.jsx)(r.X,{className:"w-3 h-3"})})]}):(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(s.Button,{type:"button",variant:"outline",disabled:h||m,onClick:()=>document.getElementById("image-upload-input")?.click(),className:"bg-white/5 border-white/10 h-32 w-32 flex flex-col items-center justify-center gap-2 hover:bg-white/10",children:m?(0,a.jsx)(n.Loader2,{className:"w-6 h-6 animate-spin text-cyan-400"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{className:"w-6 h-6 text-white/50"}),(0,a.jsx)("span",{className:"text-xs text-white/50",children:"Upload Icon"})]})}),(0,a.jsx)(i.Input,{id:"image-upload-input",type:"file",accept:"image/*",className:"hidden",onChange:u,disabled:h||m})]})}e.s(["Image",()=>d],73708),e.s(["ImageUpload",()=>o],82148)},57428,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(20783),i=e.i(30030),l=e.i(81140),c=e.i(69340),n=e.i(99682),r=e.i(35804),d=e.i(96626),o=e.i(48425),h="Checkbox",[x,m]=(0,i.createContextScope)(h),[p,u]=x(h),g=t.forwardRef((e,i)=>{let{__scopeCheckbox:n,name:r,checked:d,defaultChecked:h,required:x,disabled:m,value:u="on",onCheckedChange:g,form:b,...j}=e,[y,N]=t.useState(null),k=(0,s.useComposedRefs)(i,e=>N(e)),C=t.useRef(!1),S=!y||b||!!y.closest("form"),[I=!1,P]=(0,c.useControllableState)({prop:d,defaultProp:h,onChange:g}),D=t.useRef(I);return t.useEffect(()=>{let e=y?.form;if(e){let a=()=>P(D.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[y,P]),(0,a.jsxs)(p,{scope:n,state:I,disabled:m,children:[(0,a.jsx)(o.Primitive.button,{type:"button",role:"checkbox","aria-checked":w(I)?"mixed":I,"aria-required":x,"data-state":f(I),"data-disabled":m?"":void 0,disabled:m,value:u,...j,ref:k,onKeyDown:(0,l.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.composeEventHandlers)(e.onClick,e=>{P(e=>!!w(e)||!e),S&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),S&&(0,a.jsx)(v,{control:y,bubbles:!C.current,name:r,value:u,checked:I,required:x,disabled:m,form:b,style:{transform:"translateX(-100%)"},defaultChecked:!w(h)&&h})]})});g.displayName=h;var b="CheckboxIndicator",j=t.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:i,...l}=e,c=u(b,s);return(0,a.jsx)(d.Presence,{present:i||w(c.state)||!0===c.state,children:(0,a.jsx)(o.Primitive.span,{"data-state":f(c.state),"data-disabled":c.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});j.displayName=b;var v=e=>{let{control:s,checked:i,bubbles:l=!0,defaultChecked:c,...d}=e,o=t.useRef(null),h=(0,n.usePrevious)(i),x=(0,r.useSize)(s);t.useEffect(()=>{let e=o.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==i&&a){let t=new Event("click",{bubbles:l});e.indeterminate=w(i),a.call(e,!w(i)&&i),e.dispatchEvent(t)}},[h,i,l]);let m=t.useRef(!w(i)&&i);return(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c??m.current,...d,tabIndex:-1,ref:o,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return"indeterminate"===e}function f(e){return w(e)?"indeterminate":e?"checked":"unchecked"}var y=e.i(78784),N=e.i(75157);function k({className:e,...t}){return(0,a.jsx)(g,{"data-slot":"checkbox",className:(0,N.cn)("peer bg-white/5 text-white size-6 shrink-0 rounded-full border-2 border-white/20 shadow-xs transition-[border,background-color] outline-none hover:border-cyan-400 focus-visible:border-cyan-500 focus-visible:ring-cyan-500/30 focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-cyan-500 data-[state=checked]:border-cyan-500 data-[state=checked]:text-black",e),...t,children:(0,a.jsx)(j,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(y.CheckIcon,{className:"size-4"})})})}e.s(["Checkbox",()=>k],57428)},4514,e=>{"use strict";e.i(47167);var a=e.i(43476),t=e.i(71645),s=e.i(59438),i=e.i(83814),l=e.i(76639);let c=(0,e.i(75254).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var n=e.i(56909),r=e.i(27612),d=e.i(7233),o=e.i(98919),h=e.i(73708),x=e.i(43432),m=e.i(93479),p=e.i(10204),u=e.i(19455),g=e.i(67489),b=e.i(57428);e.i(36180);var j=e.i(98925),v=e.i(11605);e.i(51718);var w=e.i(18357),f=e.i(75157),y=e.i(82148);let N={viewOrders:!0,editOrders:!0,updateStatus:!0,uploadAttachments:!0,chat:!0,viewCorporateRequests:!1},k=["Smartphone","Laptop","PC / Desktop","Printer","Monitor","TV","Apple Watch","CCTV","TV Installation","Gaming Console"];function C(){let e=(0,i.useT)(),[C,S]=(0,t.useState)(!1),[I,P]=(0,t.useState)([]),[D,z]=(0,t.useState)([]),[A,L]=(0,t.useState)(null),[E,T]=(0,t.useState)(!1),[$,O]=(0,t.useState)(""),[M,B]=(0,t.useState)(""),[F,R]=(0,t.useState)(""),[U,V]=(0,t.useState)(""),[H,K]=(0,t.useState)(""),[q,_]=(0,t.useState)(""),[W,G]=(0,t.useState)([]),[J,X]=(0,t.useState)("Active"),[Z,Y]=(0,t.useState)(N);(0,t.useEffect)(()=>{let e=(0,w.onAuthStateChanged)(v.auth,e=>{e?S(!0):window.location.replace("/admin/login")});return()=>e()},[]),(0,t.useEffect)(()=>{let e=(0,j.onSnapshot)((0,j.collection)(v.db,"technicians"),e=>{P(e.docs.map(e=>({id:e.id,...e.data()})))},e=>{f.logger.error("technicians subscription failed",e)});return()=>e()},[]),(0,t.useEffect)(()=>{let e=(0,j.onSnapshot)((0,j.collection)(v.db,"orders"),e=>{z(e.docs.map(e=>({id:e.id,...e.data()})))},e=>{f.logger.error("orders subscription failed",e)});return()=>e()},[]);let Q=(0,t.useMemo)(()=>{let e={};for(let a of D)a.technician&&"Completed"!==a.status&&"Delivered"!==a.status&&"Cancelled"!==a.status&&(e[a.technician]=(e[a.technician]||0)+1);return e},[D]),ee=async()=>{if(!$.trim()||!M.trim()||!F.trim())return void alert("Name, Email and Password are required");try{let e={name:$,email:M,phone:U,phone2:H,role:"technician",specialization:W,status:J,permissions:Z,avatar:q,createdAt:new Date},a=await fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDJlbOtaBWZcKuzi-gOvqFYemcC__jaK1A",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:M,password:F,returnSecureToken:!1})}),t=await a.json();if(!a.ok){let e=t?.error?.message==="EMAIL_EXISTS"?"Email is already registered":t?.error?.message==="WEAK_PASSWORD : Password should be at least 6 characters"?"Password should be at least 6 characters":t?.error?.message||"Failed to create account";alert(e);return}let s=String(t.localId||"");if(!s)return void alert("Failed to create account");let i=await (0,j.addDoc)((0,j.collection)(v.db,"technicians"),{...e,uid:s});await (0,j.setDoc)((0,j.doc)(v.db,"users",s),{email:M,role:"technician",technicianId:i.id,createdAt:new Date}),ea()}catch(e){alert("Failed to add technician")}},ea=()=>{O(""),B(""),R(""),V(""),K(""),_(""),G([]),X("Active"),Y(N),T(!1)},et=async()=>{if(A)try{let e=(0,j.doc)(v.db,"technicians",A.id),{id:a,...t}=A;await (0,j.updateDoc)(e,t),L(null)}catch(e){alert("Failed to update technician")}},es=async a=>{if(confirm(e("Are you sure you want to delete this technician?")))try{await (0,j.deleteDoc)((0,j.doc)(v.db,"technicians",a))}catch(e){alert("Failed to delete technician")}};return C?(0,a.jsxs)("section",{className:"pt-2 pb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:e("Technicians")}),(0,a.jsxs)(u.Button,{onClick:()=>T(!0),className:"bg-cyan-500 hover:bg-cyan-400 text-black",children:[(0,a.jsx)(d.Plus,{className:"w-4 h-4 mr-2"}),e("Add Technician")]})]}),(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsx)(l.Dialog,{open:E,onOpenChange:e=>!e&&ea(),children:(0,a.jsxs)(l.DialogContent,{className:"bg-zinc-950 border-white/10 text-white max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(l.DialogHeader,{children:[(0,a.jsx)(l.DialogTitle,{children:e("Add New Technician")}),(0,a.jsx)(l.DialogDescription,{children:e("Enter technician details and permissions")})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Name")}),(0,a.jsx)(m.Input,{value:$,onChange:e=>O(e.target.value),className:"bg-white/5 border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Phone")}),(0,a.jsx)(m.Input,{value:U,onChange:e=>V(e.target.value),className:"bg-white/5 border-white/10"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Secondary Phone")}),(0,a.jsx)(m.Input,{value:H,onChange:e=>K(e.target.value),className:"bg-white/5 border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Photo")}),(0,a.jsx)(y.ImageUpload,{value:q,onChange:_,path:"technicians"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Email")}),(0,a.jsx)(m.Input,{type:"email",value:M,onChange:e=>B(e.target.value),className:"bg-white/5 border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Password")}),(0,a.jsx)(m.Input,{type:"password",value:F,onChange:e=>R(e.target.value),className:"bg-white/5 border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Specialization")}),(0,a.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-2",children:k.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10",children:[(0,a.jsx)(b.Checkbox,{id:`new-spec-${e}`,checked:W.includes(e),onCheckedChange:()=>{G(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},className:"border-white/20 data-[state=checked]:bg-cyan-500 data-[state=checked]:text-black"}),(0,a.jsx)("label",{htmlFor:`new-spec-${e}`,className:"text-xs text-white/80",children:e})]},e))}),W.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 pt-1",children:W.map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 rounded-full text-xs",children:e},`${e}-${t}`))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Status")}),(0,a.jsxs)(g.Select,{value:J,onValueChange:e=>X(e),children:[(0,a.jsx)(g.SelectTrigger,{className:"bg-white/5 border-white/10 text-white hover:bg-white/10 focus-visible:border-cyan-500 focus-visible:ring-cyan-500/30 outline-none rounded-lg",children:(0,a.jsx)(g.SelectValue,{})}),(0,a.jsxs)(g.SelectContent,{className:"bg-zinc-900 border-white/10 text-white",children:[(0,a.jsx)(g.SelectItem,{value:"Active",children:e("Active")}),(0,a.jsx)(g.SelectItem,{value:"Inactive",children:e("Inactive")})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[(0,a.jsxs)(p.Label,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Shield,{className:"w-4 h-4 text-cyan-500"})," ",e("Permissions")]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(N).map(t=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10",children:[(0,a.jsx)(b.Checkbox,{id:`new-perm-${t}`,checked:Z[t],onCheckedChange:()=>{Y(e=>({...e,[t]:!e[t]}))},className:"border-white/20 data-[state=checked]:bg-cyan-500 data-[state=checked]:border-cyan-500 data-[state=checked]:text-black"}),(0,a.jsx)("label",{htmlFor:`new-perm-${t}`,className:"text-sm text-white/80",children:e(t.replace(/([A-Z])/g," $1").trim())})]},t))})]})]}),(0,a.jsxs)(l.DialogFooter,{children:[(0,a.jsx)(u.Button,{variant:"outline",onClick:ea,className:"border-white/10 text-white hover:bg-white/10",children:e("Cancel")}),(0,a.jsx)(u.Button,{onClick:ee,className:"bg-cyan-500 hover:bg-cyan-400 text-black",children:e("Add")})]})]})}),(0,a.jsx)(s.GlassCard,{className:"p-0 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm text-white/80",children:[(0,a.jsx)("thead",{className:"bg-white/5 text-white border-b border-white/10",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-4 font-medium",children:e("Name")}),(0,a.jsx)("th",{className:"p-4 font-medium",children:e("Phone")}),(0,a.jsx)("th",{className:"p-4 font-medium",children:e("Specialization")}),(0,a.jsx)("th",{className:"p-4 font-medium",children:e("Status")}),(0,a.jsx)("th",{className:"p-4 font-medium",children:e("Active Jobs")}),(0,a.jsx)("th",{className:"p-4 font-medium text-right",children:e("Actions")})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-white/5",children:[I.map(t=>(0,a.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[t.avatar?(0,a.jsx)("img",{src:t.avatar,alt:t.name,className:"w-8 h-8 rounded-full object-cover border border-white/10"}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:(0,a.jsx)(h.Image,{className:"w-4 h-4 text-white/40"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium text-white",children:t.name}),(0,a.jsx)("span",{className:"text-xs text-white/50",children:t.email})]})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1 text-white/80",children:[(0,a.jsx)(x.Phone,{className:"w-3 h-3 text-cyan-400"})," ",t.phone]}),t.phone2&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-white/60",children:[(0,a.jsx)(x.Phone,{className:"w-3 h-3 text-cyan-400"})," ",t.phone2]})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:t.specialization?.map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-white/10 rounded-full text-xs",children:e},t))})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:"Active"===t.status?"text-green-400":"text-red-400",children:e(t.status)})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:"font-mono bg-cyan-500/10 text-cyan-400 px-2 py-1 rounded",children:Q[t.id]||0})}),(0,a.jsx)("td",{className:"p-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(u.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-white/10",onClick:()=>L(t),children:(0,a.jsx)(c,{className:"w-4 h-4 text-cyan-400"})}),(0,a.jsx)(u.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>es(t.id),children:(0,a.jsx)(r.Trash2,{className:"w-4 h-4 text-red-400"})})]})})]},t.id)),0===I.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-8 text-center text-white/40",children:e("No technicians found")})})]})]})})}),(0,a.jsx)(l.Dialog,{open:!!A,onOpenChange:e=>!e&&L(null),children:(0,a.jsxs)(l.DialogContent,{className:"bg-zinc-950 border-white/10 text-white max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(l.DialogHeader,{children:[(0,a.jsx)(l.DialogTitle,{children:e("Edit Technician")}),(0,a.jsx)(l.DialogDescription,{children:e("Update technician details and permissions")})]}),A&&(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Name")}),(0,a.jsx)(m.Input,{value:A.name,onChange:e=>L({...A,name:e.target.value}),className:"bg-white/5 border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Phone")}),(0,a.jsx)(m.Input,{value:A.phone||"",onChange:e=>L({...A,phone:e.target.value}),className:"bg-white/5 border-white/10"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Secondary Phone")}),(0,a.jsx)(m.Input,{value:A.phone2||"",onChange:e=>L({...A,phone2:e.target.value}),className:"bg-white/5 border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Photo")}),(0,a.jsx)(y.ImageUpload,{value:A.avatar||"",onChange:e=>L({...A,avatar:e}),path:"technicians"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Email")}),(0,a.jsx)(m.Input,{value:A.email||"",onChange:e=>L({...A,email:e.target.value}),className:"bg-white/5 border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Specialization")}),(0,a.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-2",children:k.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10",children:[(0,a.jsx)(b.Checkbox,{id:`edit-spec-${e}`,checked:A.specialization?.includes(e)||!1,onCheckedChange:()=>{let a=A.specialization?.includes(e)?(A.specialization||[]).filter(a=>a!==e):[...A.specialization||[],e];L({...A,specialization:a})},className:"border-white/20 data-[state=checked]:bg-cyan-500 data-[state=checked]:text-black"}),(0,a.jsx)("label",{htmlFor:`edit-spec-${e}`,className:"text-xs text-white/80",children:e})]},e))}),A.specialization&&A.specialization.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 pt-1",children:A.specialization.map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 rounded-full text-xs",children:e},`${e}-${t}`))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.Label,{children:e("Status")}),(0,a.jsxs)(g.Select,{value:A.status,onValueChange:e=>L({...A,status:e}),children:[(0,a.jsx)(g.SelectTrigger,{className:"bg-white/5 border-white/10 text-white hover:bg-white/10 focus-visible:border-cyan-500 focus-visible:ring-cyan-500/30 outline-none rounded-lg",children:(0,a.jsx)(g.SelectValue,{})}),(0,a.jsxs)(g.SelectContent,{className:"bg-zinc-900 border-white/10 text-white",children:[(0,a.jsx)(g.SelectItem,{value:"Active",children:e("Active")}),(0,a.jsx)(g.SelectItem,{value:"Inactive",children:e("Inactive")})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[(0,a.jsxs)(p.Label,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Shield,{className:"w-4 h-4 text-cyan-500"})," ",e("Permissions")]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(N).map(t=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10",children:[(0,a.jsx)(b.Checkbox,{id:`edit-perm-${t}`,checked:A.permissions?.[t]??N[t],onCheckedChange:()=>{A&&L(e=>e?{...e,permissions:{...e.permissions,[t]:!e.permissions[t]}}:null)},className:"border-white/20 data-[state=checked]:bg-cyan-500 data-[state=checked]:border-cyan-500 data-[state=checked]:text-black"}),(0,a.jsx)("label",{htmlFor:`edit-perm-${t}`,className:"text-sm text-white/80",children:e(t.replace(/([A-Z])/g," $1").trim())})]},t))})]})]}),(0,a.jsxs)(l.DialogFooter,{children:[(0,a.jsx)(u.Button,{variant:"outline",onClick:()=>L(null),className:"border-white/10 text-white hover:bg-white/10",children:e("Cancel")}),(0,a.jsxs)(u.Button,{onClick:et,className:"bg-cyan-500 hover:bg-cyan-400 text-black",children:[(0,a.jsx)(n.Save,{className:"w-4 h-4 mr-2"}),e("Save Changes")]})]})]})})]})]}):null}e.s(["default",()=>C],4514)}]);