(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";let s=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],46897)},63488,e=>{"use strict";let s=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],63488)},59438,e=>{"use strict";var s=e.i(43476),t=e.i(75157);function a({children:e,className:a,hoverEffect:i=!0}){return(0,s.jsxs)("div",{className:(0,t.cn)("glass rounded-3xl p-6 sm:p-8 lg:p-10 relative overflow-hidden group transition-transform duration-300 will-change-transform",i&&"glass-hover hover:-translate-y-1 hover:shadow-2xl",a),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e]})}e.s(["GlassCard",()=>a])},43432,e=>{"use strict";let s=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],43432)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],27612)},6880,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(59438),i=e.i(83814),l=e.i(63488),r=e.i(43432),n=e.i(86311),o=e.i(27612),c=e.i(3116),d=e.i(46897),h=e.i(11605);e.i(51718);var x=e.i(18357);e.i(36180);var m=e.i(98925);function u(){let e=(0,i.useT)(),[u,p]=(0,t.useState)(!1),[g,b]=(0,t.useState)("messages"),[w,j]=(0,t.useState)(!0),[f,v]=(0,t.useState)([]),[y,N]=(0,t.useState)(null),[k,M]=(0,t.useState)({email:"",phone:"",whatsapp:"",address:"",serviceAreas:"",workingHours:""});(0,t.useEffect)(()=>{if(h.isMockMode){if(!window.localStorage.getItem("mock_admin_user"))return void window.location.replace("/admin/login");p(!0)}else{let e=(0,x.onAuthStateChanged)(h.auth,e=>{e?p(!0):window.location.replace("/admin/login")});return()=>e()}if(h.isMockMode){v([{id:"msg1",name:"John Doe",email:"john@example.com",phone:"0501234567",subject:"Inquiry about repair",message:"Do you fix water damaged iPhones?",createdAt:new Date().toISOString(),status:"New"},{id:"msg2",name:"Jane Smith",email:"jane@example.com",phone:"0559876543",subject:"Business Partnership",message:"We would like to partner with you.",createdAt:new Date(Date.now()-864e5).toISOString(),status:"Read"}]),M({email:"info@kbi.services",phone:"+971 50 123 4567",whatsapp:"+971 50 123 4567",address:"Dubai, UAE",serviceAreas:"Dubai, Sharjah, Ajman",workingHours:"9:00 AM - 9:00 PM"}),j(!1);return}let e=(0,m.query)((0,m.collection)(h.db,"messages"),(0,m.orderBy)("createdAt","desc")),s=(0,m.onSnapshot)(e,e=>{v(e.docs.map(e=>({id:e.id,...e.data()})))}),t=(0,m.onSnapshot)((0,m.doc)(h.db,"settings","contact"),e=>{e.exists()&&M(e.data())});return j(!1),()=>{s(),t()}},[]);let C=async e=>{h.isMockMode?v(f.map(s=>s.id===e?{...s,status:"Read"}:s)):await (0,m.updateDoc)((0,m.doc)(h.db,"messages",e),{status:"Read"})},S=async s=>{if(confirm(e("Delete this message?"))){if(h.isMockMode){v(f.filter(e=>e.id!==s)),y?.id===s&&N(null);return}await (0,m.deleteDoc)((0,m.doc)(h.db,"messages",s)),y?.id===s&&N(null)}},A=async()=>{if(h.isMockMode)return void alert(e("Settings saved"));try{await (0,m.setDoc)((0,m.doc)(h.db,"settings","contact"),k),alert(e("Settings saved"))}catch(s){alert(e("Error saving settings"))}};return u?(0,s.jsxs)("section",{className:"pt-2 pb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,s.jsxs)("button",{onClick:()=>b("messages"),className:`px-3 py-2 rounded-lg text-sm ${"messages"===g?"bg-cyan-500 text-black":"bg-white/5 border border-white/10"}`,children:[e("Messages"),f.filter(e=>"New"===e.status).length>0&&(0,s.jsx)("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:f.filter(e=>"New"===e.status).length})]}),(0,s.jsx)("button",{onClick:()=>b("settings"),className:`px-3 py-2 rounded-lg text-sm ${"settings"===g?"bg-cyan-500 text-black":"bg-white/5 border border-white/10"}`,children:e("Contact Settings")})]}),"messages"===g&&(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 h-[600px]",children:[(0,s.jsxs)(a.GlassCard,{className:"overflow-hidden flex flex-col",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e("Inbox")}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:[0===f.length&&(0,s.jsx)("p",{className:"text-white/30 text-center py-10",children:e("No messages")}),f.map(t=>(0,s.jsxs)("div",{onClick:()=>{N(t),"New"===t.status&&C(t.id)},className:`p-3 rounded-xl border cursor-pointer transition-colors ${y?.id===t.id?"bg-cyan-500/10 border-cyan-500/50":"New"===t.status?"bg-white/10 border-white/20 font-semibold":"bg-white/5 border-white/10"}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("span",{className:"text-sm",children:t.name}),(0,s.jsx)("span",{className:"text-xs text-white/50",children:t.createdAt?.toDate?t.createdAt.toDate().toLocaleDateString():e("Just now")})]}),(0,s.jsx)("p",{className:"text-xs text-white/70 truncate",children:t.subject})]},t.id))]})]}),(0,s.jsx)(a.GlassCard,{className:"flex flex-col",children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:y.subject}),(0,s.jsxs)("p",{className:"text-sm text-cyan-400",children:[y.name," <",y.email,">"]}),(0,s.jsx)("p",{className:"text-xs text-white/50",children:y.phone})]}),(0,s.jsx)("button",{onClick:()=>S(y.id),className:"p-2 rounded-lg hover:bg-red-500/20 text-white/50 hover:text-red-400 transition-colors",children:(0,s.jsx)(o.Trash2,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"flex-1 bg-white/5 rounded-xl p-4 border border-white/10 text-sm whitespace-pre-wrap overflow-y-auto",children:y.message})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-white/30",children:e("Select a message to read")})})]}),"settings"===g&&(0,s.jsx)("div",{className:"max-w-2xl",children:(0,s.jsxs)(a.GlassCard,{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:e("Contact Information")}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:e("Email Address")}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,s.jsx)(l.Mail,{className:"w-4 h-4 text-white/50"}),(0,s.jsx)("input",{value:k.email,onChange:e=>M({...k,email:e.target.value}),className:"flex-1 bg-transparent focus:outline-none",placeholder:"contact@example.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:e("Phone Number")}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,s.jsx)(r.Phone,{className:"w-4 h-4 text-white/50"}),(0,s.jsx)("input",{value:k.phone,onChange:e=>M({...k,phone:e.target.value}),className:"flex-1 bg-transparent focus:outline-none",placeholder:"+1234567890"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:e("WhatsApp Number")}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,s.jsx)(n.MessageSquare,{className:"w-4 h-4 text-white/50"}),(0,s.jsx)("input",{value:k.whatsapp,onChange:e=>M({...k,whatsapp:e.target.value}),className:"flex-1 bg-transparent focus:outline-none",placeholder:"+1234567890"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:e("Address")}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,s.jsx)(d.MapPin,{className:"w-4 h-4 text-white/50"}),(0,s.jsx)("input",{value:k.address,onChange:e=>M({...k,address:e.target.value}),className:"flex-1 bg-transparent focus:outline-none",placeholder:"123 Street Name, City"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:e("Working Hours")}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,s.jsx)(c.Clock,{className:"w-4 h-4 text-white/50"}),(0,s.jsx)("input",{value:k.workingHours,onChange:e=>M({...k,workingHours:e.target.value}),className:"flex-1 bg-transparent focus:outline-none",placeholder:"Mon-Fri: 9AM - 6PM"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:e("Service Areas")}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 border border-white/10 rounded-xl px-4 py-3",children:[(0,s.jsx)(d.MapPin,{className:"w-4 h-4 text-white/50"}),(0,s.jsx)("input",{value:k.serviceAreas,onChange:e=>M({...k,serviceAreas:e.target.value}),className:"flex-1 bg-transparent focus:outline-none",placeholder:"City 1, City 2, Region"})]})]}),(0,s.jsx)("button",{onClick:A,className:"w-full py-3 bg-cyan-500 text-black rounded-xl font-semibold mt-4 hover:bg-cyan-400 transition-colors",children:e("Save Changes")})]})]})})]}):null}e.s(["default",()=>u])}]);