module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},45222,a=>{"use strict";let b=(0,a.i(70106).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);a.s(["MessageCircle",()=>b],45222)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],70106)},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},54427,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},79808,a=>{"use strict";let b=(0,a.i(70106).default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);a.s(["Wrench",()=>b],79808)},67900,a=>{"use strict";let b=(0,a.i(70106).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);a.s(["Building2",()=>b],67900)},92258,a=>{"use strict";let b=(0,a.i(70106).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],92258)},42021,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({children:a,className:d,hoverEffect:e=!0}){return(0,b.jsxs)("div",{className:(0,c.cn)("glass rounded-3xl p-6 sm:p-8 lg:p-10 relative overflow-hidden group transition-transform duration-300 will-change-transform",e&&"glass-hover hover:-translate-y-1 hover:shadow-2xl",d),children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),a]})}a.s(["GlassCard",()=>d])},63519,a=>{"use strict";let b=(0,a.i(70106).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],63519)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},5151,a=>{"use strict";let b=(0,a.i(70106).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],5151)},11300,a=>{"use strict";let b=(0,a.i(70106).default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);a.s(["ClipboardList",()=>b],11300)},10227,a=>{"use strict";let b=(0,a.i(70106).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],10227)},46864,a=>{"use strict";let b=(0,a.i(70106).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);a.s(["UserCheck",()=>b],46864)},903,a=>{"use strict";var b=a.i(87924),c=a.i(42021),d=a.i(72131),e=a.i(46271),f=a.i(67453),g=a.i(10227),h=a.i(79808),i=a.i(46864),j=a.i(11300),k=a.i(96221);let l=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=a.i(87532),n=a.i(41710),o=a.i(5151),p=a.i(1312),q=a.i(58712),r=a.i(68114);a.i(69387);var s=a.i(60574);function t(){var a;let{lang:t}=(0,p.useLanguage)(),u="ar"===t,[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)(!1),[z,A]=(0,d.useState)(""),[B,C]=(0,d.useState)(null),[D,E]=(0,d.useState)([]),[F,G]=(0,d.useState)(!1),H=async()=>{if(v.trim()){y(!0),A(""),C(null),E([]);try{let a,b=v.trim();if(/^[\d\s+-]+$/.test(b)&&b.length>=7){let a=(0,s.query)((0,s.collection)(q.db,"orders"),(0,s.where)("phone","==",b)),c=(0,s.query)((0,s.collection)(q.db,"orders"),(0,s.where)("customerPhone","==",b)),[d,e]=await Promise.all([(0,s.getDocs)(a),(0,s.getDocs)(c)]),f=[...d.docs,...e.docs].filter((a,b,c)=>b===c.findIndex(b=>b.id===a.id));0===f.length?A(u?"لم يتم العثور على طلبات لهذا الرقم":"No orders found for this phone number"):1===f.length?C(f[0].data()):E(f.map(a=>({id:a.id,...a.data()})))}else{let c=(0,s.query)((0,s.collection)(q.db,"orders"),(0,s.where)("orderId","==",b));(a=await (0,s.getDocs)(c)).empty?A(u?"لم يتم العثور على الطلب":"Order not found"):C(a.docs[0].data())}}catch(a){r.logger.error("Track error:",a),A(u?"حدث خطأ ما":"Something went wrong")}finally{y(!1)}}},I=u?[{icon:j.ClipboardList,title:"تم إنشاء الطلب",status:"Order Created"},{icon:i.UserCheck,title:"تعيين فني",status:"Technician Assigned"},{icon:g.Truck,title:"الفني في الطريق",status:"On the Way"},{icon:h.Wrench,title:"الإصلاح جارٍ",status:"In Progress"},{icon:f.CheckCircle2,title:"اكتمل",status:"Completed"}]:[{icon:j.ClipboardList,title:"Order Created",status:"Order Created"},{icon:i.UserCheck,title:"Technician Assigned",status:"Technician Assigned"},{icon:g.Truck,title:"On the Way",status:"On the Way"},{icon:h.Wrench,title:"Repair In Progress",status:"In Progress"},{icon:f.CheckCircle2,title:"Completed",status:"Completed"}],J=B?"Order Created"===(a=B.status)?0:"Waiting for Parts"===a?1:"In Progress"===a?3:4*("Completed"===a||"Delivered"===a):-1,K=B?Math.round(Math.max(0,Math.min(I.length-1,J))/(I.length-1)*100):0,L=B?.estimatedCompletion?new Date(B.estimatedCompletion).toLocaleString(u?"ar-AE":void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return(0,b.jsxs)("section",{className:"relative pt-28 pb-16 overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute -top-24 -left-24 w-[45vw] h-[45vw] bg-cyan-600/10 rounded-full blur-[140px]"}),(0,b.jsx)("div",{className:"absolute -bottom-24 -right-24 w-[40vw] h-[40vw] bg-blue-600/10 rounded-full blur-[140px]"})]}),(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 relative z-10",children:[(0,b.jsx)(e.motion.h1,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-2xl md:text-3xl font-bold mb-3",children:u?"تتبّع الطلب":"Order Tracking"}),(0,b.jsx)("div",{className:"h-1 w-24 bg-gradient-to-r from-cyan-500 via-blue-500 to-transparent rounded-full mb-6"}),(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,b.jsxs)(c.GlassCard,{hoverEffect:!1,className:"p-6 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-[2fr_auto] gap-4 items-center",children:[(0,b.jsx)("input",{value:v,onChange:a=>w(a.target.value),onKeyDown:a=>{"Enter"!==a.key||x||H()},placeholder:u?"أدخل رقم الطلب أو رقم الهاتف":"Enter order ID or phone number",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-cyan-500"}),(0,b.jsxs)("button",{onClick:H,disabled:x,className:"px-6 py-3 rounded-xl bg-cyan-500 text-black font-semibold hover:bg-cyan-400 transition-colors disabled:opacity-50 flex items-center gap-2",children:[x?(0,b.jsx)(k.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(m.Search,{className:"w-4 h-4"}),u?"تتبّع الطلب":"Track Order"]})]}),(0,b.jsx)("div",{className:"mt-3 text-xs text-white/50",children:u?"نصيحة: يمكنك البحث برقم الطلب أو رقم الهاتف":"Tip: Search by order ID (KBI-XXXX) or phone number"}),(0,b.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:["KBI-1234","0501234567"].map(a=>(0,b.jsx)("button",{onClick:()=>w(a),className:"px-3 py-1.5 text-xs rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 text-white/70",children:a},a))}),z&&(0,b.jsxs)("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl flex items-center gap-2",children:[(0,b.jsx)(l,{className:"w-4 h-4"}),z]})]})}),D.length>0&&(0,b.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white/80",children:u?`تم العثور على ${D.length} طلبات`:`Found ${D.length} orders`}),D.map(a=>(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.01},className:"cursor-pointer",onClick:()=>{C(a),E([])},children:(0,b.jsx)(c.GlassCard,{className:"p-4 hover:border-cyan-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-cyan-400",children:a.orderId}),(0,b.jsxs)("p",{className:"text-sm text-white/60",children:[a.deviceType||a.device," - ",a.model]}),(0,b.jsx)("p",{className:"text-xs text-white/40",children:a.issueType||a.issue})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${"Completed"===a.status||"completed"===a.status?"bg-green-500/20 text-green-400":"In Progress"===a.status||"in_progress"===a.status?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:a.status})})]})})},a.id))]}),B&&(0,b.jsx)("div",{className:"mt-8 space-y-6",children:(0,b.jsxs)(c.GlassCard,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-6 border-b border-white/10 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold",children:[B.deviceType," - ",B.model]}),(0,b.jsx)("p",{className:"text-white/60 text-sm",children:B.issueType})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-sm text-white/60",children:u?"الحالة الحالية":"Current Status"}),(0,b.jsx)("div",{className:"text-cyan-400 font-semibold",children:B.status})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[B.orderId&&(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 text-xs text-white/70",children:[(0,b.jsx)(j.ClipboardList,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{dir:"ltr",children:B.orderId}),(0,b.jsx)("button",{onClick:()=>{B?.orderId&&(navigator.clipboard.writeText(B.orderId),G(!0),setTimeout(()=>G(!1),1500))},className:"p-1 rounded bg-white/5 hover:bg-white/10",children:F?(0,b.jsx)(f.CheckCircle2,{className:"w-4 h-4 text-green-400"}):(0,b.jsx)(o.Copy,{className:"w-4 h-4 text-white/60"})})]}),B.estimatedCompletion&&(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 text-xs text-white/70",children:[(0,b.jsx)(n.Clock,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{children:u?"الإنهاء المتوقع":"ETA"}),(0,b.jsx)("span",{children:L})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 relative",children:[(0,b.jsx)("div",{className:"hidden md:block absolute top-1/2 left-0 w-full h-0.5 bg-white/10 -z-10 -translate-y-1/2"}),(0,b.jsx)("div",{className:`hidden md:block absolute top-1/2 -translate-y-1/2 ${u?"right-0":"left-0"} h-0.5 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 -z-10`,style:{width:`${K}%`}}),I.map((a,c)=>{let d=c<=J,f=c===J;return(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.05*c},whileHover:{y:-2},className:`relative p-4 rounded-xl border transition-all duration-300 ${d?"bg-cyan-500/10 border-cyan-500/50":"bg-black/40 border-white/5 opacity-50"} ${f?"shadow-[0_0_20px_rgba(6,182,212,0.35)]":""}`,children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full mx-auto mb-3 flex items-center justify-center ${d?"bg-cyan-500 text-black":"bg-white/10 text-white/30"}`,children:(0,b.jsx)(a.icon,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:`text-xs md:text-sm font-semibold text-center ${d?"text-cyan-400":"text-white/50"}`,children:a.title})]},c)})]})]})})]})]})}a.s(["TrackPageClient",()=>t],903)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__df50a074._.js.map