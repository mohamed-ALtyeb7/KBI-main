{"version":3,"sources":["../../../../src/components/ui/glass-card.tsx","../../../../node_modules/%40radix-ui/react-label/dist/index.mjs","../../../../src/components/ui/label.tsx","../../../../src/app/technician/login/page.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\r\nimport { ReactNode } from \"react\"\r\n\r\ninterface GlassCardProps {\r\n  children: ReactNode\r\n  className?: string\r\n  hoverEffect?: boolean\r\n}\r\n\r\nexport function GlassCard({ children, className, hoverEffect = true }: GlassCardProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"glass rounded-3xl p-6 sm:p-8 lg:p-10 relative overflow-hidden group transition-transform duration-300 will-change-transform\",\r\n        hoverEffect && \"glass-hover hover:-translate-y-1 hover:shadow-2xl\",\r\n        className\r\n      )}\r\n    >\r\n      <div className=\"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\" />\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n","\"use client\";\n\n// packages/react/label/src/Label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n","\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\"\r\nimport { auth, db, isMockMode } from \"@/lib/firebaseConfig\"\r\nimport { GlassCard } from \"@/components/ui/glass-card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Loader2, Wrench } from \"lucide-react\"\r\nimport { useLanguage } from \"@/components/providers/language-provider\"\r\nimport { doc, getDoc } from \"firebase/firestore\"\r\n\r\nexport default function TechnicianLogin() {\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const router = useRouter()\r\n  const { lang } = useLanguage()\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    if (isMockMode) {\r\n      // Simulate network delay\r\n      await new Promise(resolve => setTimeout(resolve, 1000))\r\n      \r\n      if (email === \"tech@kbi.com\" && password === \"tech123\") {\r\n        localStorage.setItem(\"mock_tech_user\", JSON.stringify({\r\n          uid: \"tech-1\",\r\n          email: email,\r\n          role: \"technician\",\r\n          name: \"Ahmed (Mock)\"\r\n        }))\r\n        router.push(\"/technician/dashboard\")\r\n      } else {\r\n        setError(\"Invalid credentials (Mock Mode: use tech@kbi.com / tech123)\")\r\n      }\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      const userCred = await signInWithEmailAndPassword(auth, email, password)\r\n      \r\n      // Verify Role\r\n      const userDoc = await getDoc(doc(db, \"technicians\", userCred.user.uid)) // Assuming doc ID is UID or we search by email\r\n      \r\n      // If we can't find by UID, we might need to query by email if doc ID isn't UID.\r\n      // For this implementation, let's assume doc ID might not be UID, so we'll just check if a technician exists with this email?\r\n      // Actually, best practice is UID as doc ID. If not, we query.\r\n      // Let's try to query if direct get fails or returns empty?\r\n      // For now, let's assume we proceed. In a real app we'd enforce role check strictly.\r\n      \r\n      router.push(\"/technician/dashboard\")\r\n  } catch (err: any) {\r\n      setError(\"Invalid email or password\")\r\n  } finally {\r\n      setLoading(false)\r\n  }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-black\">\r\n      <div className=\"w-full max-w-md\">\r\n        <GlassCard className=\"p-8\">\r\n          <div className=\"text-center mb-8\">\r\n            <div className=\"w-12 h-12 bg-cyan-500/10 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <Wrench className=\"w-6 h-6 text-cyan-400\" />\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold text-white mb-2\">Technician Portal</h1>\r\n            <p className=\"text-white/60\">Sign in to view assigned jobs</p>\r\n          </div>\r\n\r\n          <form onSubmit={handleLogin} className=\"space-y-6\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"email\" className=\"text-white\">Email</Label>\r\n              <Input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"tech@kbi.com\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n                className=\"bg-white/5 border-white/10 text-white placeholder:text-white/30\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"password\" className=\"text-white\">Password</Label>\r\n              <Input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"••••••••\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n                className=\"bg-white/5 border-white/10 text-white placeholder:text-white/30\"\r\n              />\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"text-red-400 text-sm text-center bg-red-500/10 p-2 rounded\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            <Button \r\n              type=\"submit\" \r\n              className=\"w-full bg-cyan-500 hover:bg-cyan-400 text-black font-semibold\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\r\n              Sign In\r\n            </Button>\r\n          </form>\r\n          <div className=\"mt-4 space-y-2\">\r\n            <Button\r\n              type=\"button\"\r\n              onClick={() => router.push('/admin/login')}\r\n              className=\"w-full bg-white/10 hover:bg-white/20 text-white\"\r\n            >\r\n              Admin Sign In\r\n            </Button>\r\n            <Button\r\n              type=\"button\"\r\n              onClick={() => router.push('/admin')}\r\n              variant=\"outline\"\r\n              className=\"w-full border-white/10 text-white hover:bg-white/10\"\r\n            >\r\n              Go to Admin Page\r\n            </Button>\r\n          </div>\r\n        </GlassCard>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[1]}