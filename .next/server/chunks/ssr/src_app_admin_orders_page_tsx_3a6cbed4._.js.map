{"version":3,"sources":["../../../../src/components/ui/invoice.tsx","../../../../src/components/ui/table.tsx","../../../../src/app/admin/orders/page.tsx","../../../../node_modules/lucide-react/src/icons/ellipsis.ts","../../../../node_modules/lucide-react/src/icons/file-down.ts","../../../../src/lib/smsService.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useMemo } from \"react\"\r\nimport { useT } from \"@/components/providers/language-provider\"\r\n\r\ntype InvoiceItem = {\r\n  description: string\r\n  category?: string\r\n  quantity: number\r\n  unitPrice: number\r\n  total: number\r\n}\r\n\r\ntype Props = {\r\n  order: any\r\n  items: InvoiceItem[]\r\n  invoiceNumber: string\r\n  invoiceDate: string | Date\r\n  language: \"en\" | \"ar\" | \"both\"\r\n  discount?: number\r\n  vatEnabled?: boolean\r\n  vatRate?: number\r\n  warrantyPeriod?: string\r\n  adminNotes?: string\r\n  disclaimerText?: string\r\n}\r\n\r\nexport function FinalInvoice(props: Props) {\r\n  const t = useT()\r\n  const {\r\n    order,\r\n    items,\r\n    invoiceNumber,\r\n    invoiceDate,\r\n    language,\r\n    discount = 0,\r\n    vatEnabled = false,\r\n    vatRate = 0,\r\n    warrantyPeriod = \"3 months\",\r\n    adminNotes = \"\",\r\n    disclaimerText = t(\"Payment due upon completion of repair.\")\r\n  } = props\r\n\r\n  const totals = useMemo(() => {\r\n    const subtotal = items.reduce((s, i) => s + Number(i.total || i.unitPrice * i.quantity), 0)\r\n    const afterDiscount = subtotal - Number(discount || 0)\r\n    const vatAmount = vatEnabled ? afterDiscount * Number(vatRate || 0) : 0\r\n    const finalTotal = afterDiscount + vatAmount\r\n    return { subtotal, vatAmount, finalTotal }\r\n  }, [items, discount, vatEnabled, vatRate])\r\n\r\n  const qrData = useMemo(() => {\r\n    const d = `KBI Invoice ${invoiceNumber} | Order ${order?.orderId || order?.id}`\r\n    return `https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(d)}`\r\n  }, [invoiceNumber, order])\r\n\r\n  const Header = () => (\r\n    <div className=\"flex items-start justify-between\">\r\n      <div>\r\n        <p className=\"text-xl font-bold\">KBI</p>\r\n        <p className=\"text-sm\">{t(\"On-Site Repair Service\")}</p>\r\n        <p className=\"text-sm\">Abu Dhabi – UAE</p>\r\n        <p className=\"text-sm\">+971 50 731 3446</p>\r\n      </div>\r\n      <div className=\"text-right\">\r\n        <p className=\"font-semibold\">{t(\"Invoice Number\")}: {invoiceNumber}</p>\r\n        <p className=\"text-sm\">{t(\"Order ID\")}: {order?.orderId || order?.id}</p>\r\n        <p className=\"text-sm\">{t(\"Invoice Date\")}: {typeof invoiceDate === \"string\" ? invoiceDate : new Date(invoiceDate).toLocaleDateString()}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const CustomerDevice = () => (\r\n    <div className=\"grid grid-cols-2 gap-4\">\r\n      <div className=\"space-y-1\">\r\n        <p className=\"text-sm font-semibold\">{t(\"Customer Information\")}</p>\r\n        <p className=\"text-sm\">{t(\"Customer Name\")}: {order?.customerName}</p>\r\n        <p className=\"text-sm\">{t(\"Phone Number\")}: {order?.customerPhone}</p>\r\n        <p className=\"text-sm\">{t(\"Service Address\")}: {order?.location || order?.address || \"\"}</p>\r\n      </div>\r\n      <div className=\"space-y-1\">\r\n        <p className=\"text-sm font-semibold\">{t(\"Device Information\")}</p>\r\n        <p className=\"text-sm\">{t(\"Device Type\")}: {order?.deviceType || order?.device}</p>\r\n        <p className=\"text-sm\">{t(\"Brand\")}: {order?.brand}</p>\r\n        <p className=\"text-sm\">{t(\"Model\")}: {order?.model}</p>\r\n        <p className=\"text-sm\">{t(\"Serial Number (optional)\")}: {order?.serial || \"\"}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const ItemsTable = () => (\r\n    <div className=\"mt-4\">\r\n      <div className=\"grid grid-cols-12 gap-2 border-b py-2 text-xs font-semibold\">\r\n        <div className=\"col-span-5\">{t(\"Description\")}</div>\r\n        <div className=\"col-span-2\">{t(\"Type\")}</div>\r\n        <div className=\"col-span-1 text-right\">{t(\"Qty\")}</div>\r\n        <div className=\"col-span-2 text-right\">{t(\"Unit Price (AED)\")}</div>\r\n        <div className=\"col-span-2 text-right\">{t(\"Total (AED)\")}</div>\r\n      </div>\r\n      {items.map((i, idx) => (\r\n        <div key={idx} className=\"grid grid-cols-12 gap-2 border-b py-2 text-sm\">\r\n          <div className=\"col-span-5\">{i.description}</div>\r\n          <div className=\"col-span-2\">{i.category || \"\"}</div>\r\n          <div className=\"col-span-1 text-right\">{i.quantity}</div>\r\n          <div className=\"col-span-2 text-right\">{Number(i.unitPrice).toFixed(2)}</div>\r\n          <div className=\"col-span-2 text-right\">{Number(i.total || i.unitPrice * i.quantity).toFixed(2)}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n\r\n  const Summary = () => (\r\n    <div className=\"mt-4 w-full flex justify-end\">\r\n      <div className=\"w-64 space-y-1 text-sm\">\r\n        <div className=\"flex justify-between\"><span>{t(\"Subtotal\")}</span><span>{totals.subtotal.toFixed(2)}</span></div>\r\n        <div className=\"flex justify-between\"><span>{t(\"Discount\")}</span><span>{Number(discount || 0).toFixed(2)}</span></div>\r\n        <div className=\"flex justify-between\"><span>{t(\"VAT\")}</span><span>{totals.vatAmount.toFixed(2)}</span></div>\r\n        <div className=\"flex justify-between font-semibold\"><span>{t(\"Final Total Price (AED)\")}</span><span>{totals.finalTotal.toFixed(2)}</span></div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const Notes = () => (\r\n    <div className=\"mt-6 grid grid-cols-2 gap-4 text-sm\">\r\n      <div>\r\n        <p className=\"font-semibold mb-1\">{t(\"Warranty & Notes\")}</p>\r\n        <p>{t(\"Warranty Period\")}: {warrantyPeriod}</p>\r\n        {adminNotes ? <p className=\"mt-2\">{t(\"Admin Notes\")}: {adminNotes}</p> : null}\r\n      </div>\r\n      <div className=\"text-right\">\r\n        <img src={qrData} alt=\"QR\" className=\"inline-block\" />\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const Footer = () => (\r\n    <div className=\"mt-6 pt-4 border-t text-sm\">\r\n      <p>{disclaimerText}</p>\r\n      <p className=\"mt-1\">{t(\"Thank you for choosing KBI.\")}</p>\r\n    </div>\r\n  )\r\n\r\n  const Block = () => (\r\n    <div className=\"bg-white text-black p-6 rounded shadow-sm\">\r\n      <Header />\r\n      <div className=\"mt-6\">\r\n        <CustomerDevice />\r\n      </div>\r\n      <ItemsTable />\r\n      <Summary />\r\n      <Notes />\r\n      <Footer />\r\n      <div className=\"mt-6 grid grid-cols-2 gap-6\">\r\n        <div className=\"border-t pt-6\">\r\n          <p className=\"text-sm font-semibold\">{t(\"Customer Signature\")}</p>\r\n          <div className=\"h-16 border rounded\"></div>\r\n        </div>\r\n        <div className=\"border-t pt-6\">\r\n          <p className=\"text-sm font-semibold\">{t(\"Technician Signature\")}</p>\r\n          <div className=\"h-16 border rounded\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  if (language === \"both\") {\r\n    return (\r\n      <div className=\"space-y-8\">\r\n        <Block />\r\n        <div dir=\"rtl\" className=\"bg-white text-black p-6 rounded shadow-sm\">\r\n          <Header />\r\n          <div className=\"mt-6\">\r\n            <CustomerDevice />\r\n          </div>\r\n          <ItemsTable />\r\n          <Summary />\r\n          <Notes />\r\n          <Footer />\r\n          <div className=\"mt-6 grid grid-cols-2 gap-6\">\r\n            <div className=\"border-t pt-6\">\r\n              <p className=\"text-sm font-semibold\">{t(\"Customer Signature\")}</p>\r\n              <div className=\"h-16 border rounded\"></div>\r\n            </div>\r\n            <div className=\"border-t pt-6\">\r\n              <p className=\"text-sm font-semibold\">{t(\"Technician Signature\")}</p>\r\n              <div className=\"h-16 border rounded\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (language === \"ar\") {\r\n    return (\r\n      <div dir=\"rtl\" className=\"bg-white text-black p-6 rounded shadow-sm\">\r\n        <Header />\r\n        <div className=\"mt-6\">\r\n          <CustomerDevice />\r\n        </div>\r\n        <ItemsTable />\r\n        <Summary />\r\n        <Notes />\r\n        <Footer />\r\n        <div className=\"mt-6 grid grid-cols-2 gap-6\">\r\n          <div className=\"border-t pt-6\">\r\n            <p className=\"text-sm font-semibold\">{t(\"Customer Signature\")}</p>\r\n            <div className=\"h-16 border rounded\"></div>\r\n          </div>\r\n          <div className=\"border-t pt-6\">\r\n            <p className=\"text-sm font-semibold\">{t(\"Technician Signature\")}</p>\r\n            <div className=\"h-16 border rounded\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return <Block />\r\n}\r\n\r\n","'use client'\r\n\r\nimport * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"table-container\"\r\n      className=\"relative w-full overflow-x-auto\"\r\n    >\r\n      <table\r\n        data-slot=\"table\"\r\n        className={cn('w-full caption-bottom text-sm', className)}\r\n        {...props}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\r\n  return (\r\n    <thead\r\n      data-slot=\"table-header\"\r\n      className={cn('[&_tr]:border-b', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\r\n  return (\r\n    <tbody\r\n      data-slot=\"table-body\"\r\n      className={cn('[&_tr:last-child]:border-0', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\r\n  return (\r\n    <tfoot\r\n      data-slot=\"table-footer\"\r\n      className={cn(\r\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\r\n  return (\r\n    <tr\r\n      data-slot=\"table-row\"\r\n      className={cn(\r\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\r\n  return (\r\n    <th\r\n      data-slot=\"table-head\"\r\n      className={cn(\r\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\r\n  return (\r\n    <td\r\n      data-slot=\"table-cell\"\r\n      className={cn(\r\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCaption({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'caption'>) {\r\n  return (\r\n    <caption\r\n      data-slot=\"table-caption\"\r\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow\r\n} from \"@/components/ui/table\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue\r\n} from \"@/components/ui/select\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter\r\n} from \"@/components/ui/dialog\"\r\nimport {\r\n  Search,\r\n  MoreHorizontal,\r\n  User,\r\n  Clock,\r\n  Trash2,\r\n  Eye,\r\n  CheckCircle,\r\n  AlertTriangle,\r\n  FileDown,\r\n  Plus,\r\n  MessageCircle\r\n} from \"lucide-react\"\r\nimport { openWhatsApp, WhatsAppTemplates, formatPhoneForWhatsApp } from \"@/lib/smsService\"\r\nimport { logAction, AuditActions } from \"@/lib/auditService\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { collection, onSnapshot, doc, updateDoc, deleteDoc, orderBy, query, Timestamp, arrayUnion, runTransaction } from \"firebase/firestore\"\r\nimport { db, auth, isMockMode } from \"@/lib/firebaseConfig\"\r\nimport { onAuthStateChanged } from \"firebase/auth\"\r\nimport { formatDistanceToNow } from \"date-fns\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useT } from \"@/components/providers/language-provider\"\r\nimport { FinalInvoice } from \"@/components/ui/invoice\"\r\nimport { toast } from \"@/hooks/use-toast\"\r\nimport { approveOrderPricing, rejectOrderPricing } from \"@/lib/firestore/services/orderService\"\r\nimport { counterOfferPricing } from \"@/lib/firestore/services/orderService\"\r\nimport { getUserRole } from \"@/lib/firestore/services/authService\"\r\n\r\ntype Order = {\r\n  id: string\r\n  orderId: string\r\n  customerName: string\r\n  customerPhone: string\r\n  deviceType: string\r\n  brand: string\r\n  model: string\r\n  issue: string\r\n  status: \"pending\" | \"in_progress\" | \"waiting_parts\" | \"completed\" | \"delivered\" | \"cancelled\"\r\n  technicianId?: string\r\n  technicianName?: string\r\n  createdAt: any\r\n  estimatedCompletion?: any\r\n  price?: number\r\n  notes?: string\r\n  statusHistory?: {\r\n    status: string\r\n    timestamp: any\r\n    note?: string\r\n  }[]\r\n}\r\n\r\ntype Technician = {\r\n  id: string\r\n  name: string\r\n  status: \"active\" | \"inactive\" | \"busy\"\r\n}\r\n\r\nconst statusColors = {\r\n  pending: \"bg-yellow-500/20 text-yellow-500 border-yellow-500/50\",\r\n  in_progress: \"bg-blue-500/20 text-blue-500 border-blue-500/50\",\r\n  waiting_parts: \"bg-orange-500/20 text-orange-500 border-orange-500/50\",\r\n  completed: \"bg-green-500/20 text-green-500 border-green-500/50\",\r\n  delivered: \"bg-purple-500/20 text-purple-500 border-purple-500/50\",\r\n  cancelled: \"bg-red-500/20 text-red-500 border-red-500/50\",\r\n}\r\n\r\nexport default function AdminOrdersPage() {\r\n  const t = useT()\r\n  const [authorized, setAuthorized] = useState(false)\r\n  const [orders, setOrders] = useState<Order[]>([])\r\n  const [technicians, setTechnicians] = useState<Technician[]>([])\r\n  const [search, setSearch] = useState(\"\")\r\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\")\r\n  const [loading, setLoading] = useState(true)\r\n  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null)\r\n  const [isDetailsOpen, setIsDetailsOpen] = useState(false)\r\n  const [etaMinutes, setEtaMinutes] = useState<string>(\"\")\r\n  const [invoiceDialogOpen, setInvoiceDialogOpen] = useState(false)\r\n  const [invoiceNumber, setInvoiceNumber] = useState<string>(\"\")\r\n  const [invoiceLang, setInvoiceLang] = useState<\"en\" | \"ar\" | \"both\">(\"en\")\r\n  const [invoiceDiscount, setInvoiceDiscount] = useState<string>(\"0\")\r\n  const [vatEnabled, setVatEnabled] = useState<boolean>(false)\r\n  const [vatRate, setVatRate] = useState<string>(\"0\")\r\n  const [warrantyPeriod, setWarrantyPeriod] = useState<string>(\"3 months\")\r\n  const [adminNotesInvoice, setAdminNotesInvoice] = useState<string>(\"\")\r\n  const [disclaimerText, setDisclaimerText] = useState<string>(\"Payment due upon completion of repair.\")\r\n  const [invoiceFinalized, setInvoiceFinalized] = useState<boolean>(false)\r\n  const [overrideReason, setOverrideReason] = useState<string>(\"\")\r\n  const [currentUserRole, setCurrentUserRole] = useState<\"admin\" | \"technician\" | \"customer\" | \"super_admin\" | null>(null)\r\n  const [counterDialogOpen, setCounterDialogOpen] = useState(false)\r\n  const [counterPrice, setCounterPrice] = useState<string>(\"\")\r\n  const [counterDuration, setCounterDuration] = useState<string>(\"\")\r\n  const [counterETA, setCounterETA] = useState<string>(\"\")\r\n  const [counterNote, setCounterNote] = useState<string>(\"\")\r\n\r\n  const [itemsPerPage] = useState(10)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n\r\n  useEffect(() => {\r\n    // Auth guard - Firebase mode\r\n    const unsub = onAuthStateChanged(auth, (user) => {\r\n      if (!user) {\r\n        if (typeof window !== \"undefined\") {\r\n          window.location.replace(\"/admin/login\")\r\n        }\r\n      } else {\r\n        setAuthorized(true)\r\n        getUserRole(user.uid).then(setCurrentUserRole)\r\n      }\r\n    })\r\n\r\n    if (isMockMode) {\r\n      setOrders([])\r\n      setTechnicians([])\r\n      setLoading(false)\r\n      return () => {\r\n        unsub()\r\n      }\r\n    }\r\n\r\n    const q = query(collection(db, \"orders\"), orderBy(\"createdAt\", \"desc\"))\r\n    const unsubOrders = onSnapshot(q, (snap) => {\r\n      const mappedOrders = snap.docs.map(d => {\r\n        const data = d.data()\r\n        return {\r\n          id: d.id,\r\n          orderId: data.orderId || d.id,\r\n          customerName: data.customerName || data.name || \"Unknown\",\r\n          customerPhone: data.customerPhone || data.phone || \"\",\r\n          deviceType: data.deviceType || \"Device\",\r\n          brand: data.brand || \"\",\r\n          model: data.model || \"\",\r\n          issue: data.issue || data.issueType || \"\",\r\n          status: normalizeStatus(data.status),\r\n          technicianId: data.technicianId,\r\n          technicianName: data.technicianName || data.technician,\r\n          createdAt: data.createdAt,\r\n          estimatedCompletion: data.estimatedCompletion,\r\n          price: data.price,\r\n          notes: data.notes,\r\n          statusHistory: data.statusHistory\r\n        } as Order\r\n      })\r\n      setOrders(mappedOrders)\r\n      setLoading(false)\r\n    }, (error) => {\r\n      toast({ title: t(\"Failed to load orders\"), description: error?.message || t(\"Please try again\") })\r\n      setLoading(false)\r\n    })\r\n\r\n    const unsubTechs = onSnapshot(collection(db, \"technicians\"), (snap) => {\r\n      setTechnicians(snap.docs.map(d => ({ id: d.id, ...d.data() } as Technician)))\r\n    }, (error) => {\r\n      toast({ title: t(\"Failed to load technicians\"), description: error?.message || t(\"Please try again\") })\r\n    })\r\n\r\n    return () => {\r\n      unsub()\r\n      unsubOrders()\r\n      unsubTechs()\r\n    }\r\n  }, [])\r\n\r\n  // Helper to normalize status strings\r\n  const normalizeStatus = (status: string): Order[\"status\"] => {\r\n    if (!status) return \"pending\"\r\n    const s = status.toLowerCase().replace(/\\s+/g, \"_\")\r\n    if (s === \"order_created\" || s === \"pending\") return \"pending\"\r\n    if (s === \"in_progress\") return \"in_progress\"\r\n    if (s === \"waiting_parts\") return \"waiting_parts\"\r\n    if (s === \"completed\") return \"completed\"\r\n    if (s === \"delivered\") return \"delivered\"\r\n    if (s === \"cancelled\") return \"cancelled\"\r\n    return \"pending\"\r\n  }\r\n\r\n  const getInvoiceItemsForOrder = (o: Order) => {\r\n    const items: any[] = []\r\n    const base = Number(o.price || 0)\r\n    if (base > 0) {\r\n      items.push({ description: o.issue || \"Repair Service\", category: \"service\", quantity: 1, unitPrice: base, total: base })\r\n    }\r\n    const extras = (o as any).invoiceItems || []\r\n    return [...items, ...extras]\r\n  }\r\n\r\n  const getNextInvoiceNumber = async (): Promise<string> => {\r\n    const ref = doc(db, \"counters\", \"invoices\")\r\n    return await runTransaction(db, async (tx) => {\r\n      const snap = await tx.get(ref)\r\n      let current = snap.exists() ? Number((snap.data() as any).current || 0) : 0\r\n      current += 1\r\n      tx.set(ref, { current }, { merge: true })\r\n      return `INV-${String(current).padStart(6, \"0\")}`\r\n    })\r\n  }\r\n\r\n  const openInvoicePreview = async () => {\r\n    if (!selectedOrder) return\r\n    if (!invoiceNumber) {\r\n      const num = await getNextInvoiceNumber()\r\n      setInvoiceNumber(num)\r\n    }\r\n    setInvoiceDialogOpen(true)\r\n  }\r\n\r\n  const finalizeInvoice = async () => {\r\n    if (!selectedOrder) return\r\n    const discount = Number(invoiceDiscount || 0)\r\n    const vatR = Number(vatRate || 0)\r\n    const items = getInvoiceItemsForOrder(selectedOrder)\r\n    const subtotal = items.reduce((s, i: any) => s + Number(i.total || i.unitPrice * i.quantity), 0)\r\n    const afterDiscount = subtotal - discount\r\n    const vatAmount = vatEnabled ? afterDiscount * vatR : 0\r\n    const total = afterDiscount + vatAmount\r\n\r\n    const ref = doc(db, \"orders\", selectedOrder.id)\r\n    await updateDoc(ref, {\r\n      invoice: {\r\n        invoiceNumber,\r\n        invoiceDate: Timestamp.now(),\r\n        status: \"finalized\",\r\n        generatedBy: \"admin\",\r\n        discount,\r\n        vatRate: vatR,\r\n        vatEnabled,\r\n        warrantyPeriod,\r\n        adminNotes: adminNotesInvoice,\r\n        disclaimerText,\r\n        subtotal,\r\n        total,\r\n        language: invoiceLang,\r\n        history: arrayUnion({ action: \"finalized\", by: \"admin\", at: Timestamp.now() })\r\n      },\r\n      updatedAt: Timestamp.now()\r\n    })\r\n    setInvoiceFinalized(true)\r\n  }\r\n\r\n  const overrideInvoice = async () => {\r\n    if (!selectedOrder || !overrideReason) return\r\n    const ref = doc(db, \"orders\", selectedOrder.id)\r\n    await updateDoc(ref, {\r\n      invoice: {\r\n        ...(selectedOrder as any).invoice,\r\n        history: arrayUnion({ action: \"override\", by: \"admin\", at: Timestamp.now(), note: overrideReason })\r\n      },\r\n      updatedAt: Timestamp.now()\r\n    })\r\n    setOverrideReason(\"\")\r\n  }\r\n\r\n  if (!authorized) return null as any\r\n  const filteredOrders = orders.filter(order => {\r\n    const matchesSearch =\r\n      order.customerName.toLowerCase().includes(search.toLowerCase()) ||\r\n      order.orderId.toLowerCase().includes(search.toLowerCase()) ||\r\n      order.customerPhone.includes(search)\r\n\r\n    const matchesStatus = statusFilter === \"all\" || order.status === statusFilter\r\n\r\n    return matchesSearch && matchesStatus\r\n  })\r\n\r\n  const handleStatusUpdate = async (orderId: string, newStatus: string) => {\r\n    const order = orders.find(o => o.id === orderId)\r\n\r\n    const historyItem = {\r\n      status: newStatus,\r\n      timestamp: Timestamp.now(),\r\n      note: `${t(\"Status updated to\")} ${newStatus === \"in_progress\" ? t(\"In Progress\") :\r\n        newStatus === \"waiting_parts\" ? t(\"Waiting Parts\") :\r\n          newStatus === \"completed\" ? t(\"Completed\") :\r\n            newStatus === \"delivered\" ? t(\"Delivered\") :\r\n              newStatus === \"cancelled\" ? t(\"Cancelled\") :\r\n                t(\"Pending\")\r\n        }`\r\n    }\r\n\r\n    try {\r\n      await updateDoc(doc(db, \"orders\", orderId), {\r\n        status: newStatus,\r\n        statusHistory: arrayUnion(historyItem)\r\n      })\r\n      toast({ title: t(\"Status updated\"), description: `${t(\"Order\")} ${order?.orderId} ${t(\"now\")} ${statusLabel(newStatus as any)}` })\r\n    } catch (e: any) {\r\n      toast({ title: t(\"Failed to update status\"), description: e?.message || t(\"Please try again\") })\r\n      return\r\n    }\r\n\r\n    // Auto send WhatsApp notification\r\n    if (order?.customerPhone) {\r\n      let message = \"\"\r\n      switch (newStatus) {\r\n        case \"in_progress\":\r\n          message = WhatsAppTemplates.technicianAssigned(order.orderId, order.technicianName || \"Technician\", \"\")\r\n          break\r\n        case \"completed\":\r\n          message = WhatsAppTemplates.repairComplete(order.orderId, `kbi.ae/rate?orderId=${order.orderId}`)\r\n          break\r\n      }\r\n      if (message) {\r\n        openWhatsApp(order.customerPhone, message)\r\n        toast({ title: t(\"WhatsApp opened\"), description: t(\"Customer notified\") })\r\n      }\r\n    }\r\n\r\n    // Audit log\r\n    const user = auth.currentUser\r\n    if (user) {\r\n      logAction(AuditActions.ORDER_UPDATED, \"order\", user.uid, user.email || \"\", {\r\n        targetId: orderId,\r\n        targetType: \"order\",\r\n        details: { newStatus }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleAssignTech = async (orderId: string, techId: string) => {\r\n    const tech = technicians.find(t => t.id === techId)\r\n    if (!tech) return\r\n\r\n    const order = orders.find(o => o.id === orderId)\r\n\r\n    const historyItem = {\r\n      status: \"in_progress\",\r\n      timestamp: Timestamp.now(),\r\n      note: `${t(\"Assigned to technician\")} ${tech.name}`\r\n    }\r\n\r\n    try {\r\n      await updateDoc(doc(db, \"orders\", orderId), {\r\n        technicianId: techId,\r\n        technicianName: tech.name,\r\n        status: \"in_progress\",\r\n        statusHistory: arrayUnion(historyItem)\r\n      })\r\n      toast({ title: t(\"Technician assigned\"), description: `${tech.name} • ${t(\"Order\")} ${order?.orderId}` })\r\n    } catch (e: any) {\r\n      toast({ title: t(\"Failed to assign\"), description: e?.message || t(\"Please try again\") })\r\n      return\r\n    }\r\n\r\n    // Auto send WhatsApp notification for technician assignment\r\n    if (order?.customerPhone) {\r\n      const message = WhatsAppTemplates.technicianAssigned(order.orderId, tech.name, \"\")\r\n      openWhatsApp(order.customerPhone, message)\r\n      toast({ title: t(\"WhatsApp opened\"), description: t(\"Customer notified\") })\r\n    }\r\n\r\n    // Audit log\r\n    const user = auth.currentUser\r\n    if (user) {\r\n      logAction(AuditActions.ORDER_UPDATED, \"order\", user.uid, user.email || \"\", {\r\n        targetId: orderId,\r\n        targetType: \"order\",\r\n        details: { assignedTo: tech.name }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (orderId: string) => {\r\n    if (confirm(t(\"Are you sure you want to delete this order?\"))) {\r\n      try {\r\n        await deleteDoc(doc(db, \"orders\", orderId))\r\n        toast({ title: t(\"Order deleted\"), description: orderId })\r\n        const user = auth.currentUser\r\n        if (user) {\r\n          logAction(AuditActions.ORDER_DELETED, \"order\", user.uid, user.email || \"\", {\r\n            targetId: orderId,\r\n            targetType: \"order\"\r\n          })\r\n        }\r\n      } catch (e: any) {\r\n        toast({ title: t(\"Delete failed\"), description: e?.message || t(\"Please try again\") })\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleWhatsAppNotify = (order: Order, messageType: string) => {\r\n    if (!order.customerPhone) {\r\n      toast({ title: t(\"No phone number available\"), description: t(\"Add customer phone to order\") })\r\n      return\r\n    }\r\n    let message = \"\"\r\n    switch (messageType) {\r\n      case \"confirmation\":\r\n        message = WhatsAppTemplates.orderConfirmation(order.orderId, order.customerName)\r\n        break\r\n      case \"assigned\":\r\n        message = WhatsAppTemplates.technicianAssigned(order.orderId, order.technicianName || \"Technician\", \"\")\r\n        break\r\n      case \"complete\":\r\n        message = WhatsAppTemplates.repairComplete(order.orderId, `kbi.ae/rate?orderId=${order.orderId}`)\r\n        break\r\n      default:\r\n        message = `Order #${order.orderId} update`\r\n    }\r\n    openWhatsApp(order.customerPhone, message)\r\n    toast({ title: t(\"WhatsApp opened\"), description: t(\"Customer notified\") })\r\n  }\r\n\r\n  const handleEtaUpdate = async () => {\r\n    if (!selectedOrder || !etaMinutes) return\r\n    const minutes = parseInt(etaMinutes, 10)\r\n    if (isNaN(minutes) || minutes < 0) return\r\n    const iso = new Date(Date.now() + minutes * 60000).toISOString()\r\n\r\n    await updateDoc(doc(db, \"orders\", selectedOrder.id), { estimatedCompletion: iso, updatedAt: Timestamp.now() })\r\n    setEtaMinutes(\"\")\r\n  }\r\n\r\n  const totalPages = Math.ceil(filteredOrders.length / itemsPerPage)\r\n  const paginatedOrders = filteredOrders.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)\r\n\r\n  const statusLabel = (s: Order[\"status\"]) => (\r\n    s === \"in_progress\" ? t(\"In Progress\") :\r\n      s === \"waiting_parts\" ? t(\"Waiting Parts\") :\r\n        s === \"completed\" ? t(\"Completed\") :\r\n          s === \"delivered\" ? t(\"Delivered\") :\r\n            s === \"cancelled\" ? t(\"Cancelled\") :\r\n              t(\"Pending\")\r\n  )\r\n\r\n  const exportCSV = () => {\r\n    const headers = [t(\"Order ID\"), t(\"Customer\"), t(\"Phone\"), t(\"Device\"), t(\"Issue\"), t(\"Status\"), t(\"Technician\"), t(\"Created\"), t(\"Price\")]\r\n    const rows = filteredOrders.map(o => [\r\n      o.orderId,\r\n      o.customerName,\r\n      o.customerPhone,\r\n      `\"${o.brand} ${o.model}\"`, // Quote to handle commas\r\n      `\"${o.issue}\"`,\r\n      o.status,\r\n      o.technicianName || t(\"Unassigned\"),\r\n      o.createdAt?.seconds ? new Date(o.createdAt.seconds * 1000).toISOString() : \"\",\r\n      o.price || \"\"\r\n    ])\r\n\r\n    const csvContent = \"data:text/csv;charset=utf-8,\"\r\n      + headers.join(\",\") + \"\\n\"\r\n      + rows.map(e => e.join(\",\")).join(\"\\n\")\r\n\r\n    const encodedUri = encodeURI(csvContent)\r\n    const link = document.createElement(\"a\")\r\n    link.setAttribute(\"href\", encodedUri)\r\n    link.setAttribute(\"download\", `orders_export_${new Date().toISOString().slice(0, 10)}.csv`)\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n  }\r\n  const handleApproveProposal = async (order: Order) => {\r\n    try {\r\n      if (isMockMode) {\r\n        setOrders(prev => prev.map(o => o.id === order.id ? ({\r\n          ...o,\r\n          ...(o as any),\r\n          approvedPrice: (o as any).proposedPrice ?? null,\r\n          approvedDurationMinutes: (o as any).proposedDurationMinutes ?? null,\r\n          approvedByAdminId: \"mock_admin\",\r\n          approvedAt: new Date().toISOString(),\r\n          pricingStatus: \"approved\",\r\n        }) : o))\r\n        toast({ title: t(\"Proposal approved\"), description: order.orderId })\r\n        return\r\n      }\r\n      const uid = auth.currentUser?.uid || \"\"\r\n      await approveOrderPricing(order.id, uid)\r\n      toast({ title: t(\"Proposal approved\"), description: order.orderId })\r\n    } catch (e: any) {\r\n      toast({ title: t(\"Failed to approve\"), description: e?.message || t(\"Please try again\") })\r\n    }\r\n  }\r\n  const handleRejectProposal = async (order: Order) => {\r\n    try {\r\n      if (isMockMode) {\r\n        setOrders(prev => prev.map(o => o.id === order.id ? ({\r\n          ...o,\r\n          ...(o as any),\r\n          pricingStatus: \"rejected\",\r\n        }) : o))\r\n        toast({ title: t(\"Proposal rejected\"), description: order.orderId })\r\n        return\r\n      }\r\n      await rejectOrderPricing(order.id)\r\n      toast({ title: t(\"Proposal rejected\"), description: order.orderId })\r\n    } catch (e: any) {\r\n      toast({ title: t(\"Failed to reject\"), description: e?.message || t(\"Please try again\") })\r\n    }\r\n  }\r\n  const handleCounterOffer = async (order: Order) => {\r\n    try {\r\n      if (currentUserRole !== \"super_admin\") {\r\n        toast({ title: t(\"Not allowed\"), description: t(\"Only Super Admin can counter\") })\r\n        return\r\n      }\r\n      if (isMockMode) {\r\n        setOrders(prev => prev.map(o => o.id === order.id ? ({\r\n          ...o,\r\n          ...(o as any),\r\n          counterPrice: parseFloat(counterPrice || \"0\") || null,\r\n          counterDurationMinutes: parseFloat(counterDuration || \"0\") || null,\r\n          counterArrivalETA: counterETA || null,\r\n          pricingStatus: \"countered\",\r\n        }) : o))\r\n        setCounterDialogOpen(false)\r\n        setCounterPrice(\"\"); setCounterDuration(\"\"); setCounterETA(\"\"); setCounterNote(\"\")\r\n        toast({ title: t(\"Counter saved\"), description: order.orderId })\r\n        return\r\n      }\r\n      const uid = auth.currentUser?.uid || \"\"\r\n      await counterOfferPricing(order.id, uid, {\r\n        counterPrice: parseFloat(counterPrice || \"0\") || null,\r\n        counterDurationMinutes: parseFloat(counterDuration || \"0\") || null,\r\n        counterArrivalETA: counterETA || null,\r\n        counterNote,\r\n      })\r\n      setCounterDialogOpen(false)\r\n      setCounterPrice(\"\"); setCounterDuration(\"\"); setCounterETA(\"\"); setCounterNote(\"\")\r\n      toast({ title: t(\"Counter saved\"), description: order.orderId })\r\n    } catch (e: any) {\r\n      toast({ title: t(\"Failed to counter\"), description: e?.message || t(\"Please try again\") })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-3xl font-bold text-white\">{t(\"Orders Management\")}</h1>\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" onClick={exportCSV}>\r\n            <FileDown className=\"mr-2 h-4 w-4\" /> {t(\"Export CSV\")}\r\n          </Button>\r\n          <Button>\r\n            <Plus className=\"mr-2 h-4 w-4\" /> {t(\"New Order\")}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"relative flex-1 max-w-sm\">\r\n          <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-white/50\" />\r\n          <Input\r\n            placeholder={t(\"Search orders...\")}\r\n            className=\"pl-9 bg-white/5 border-white/10 text-white\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n        <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n          <SelectTrigger className=\"w-[180px] bg-white/5 border-white/10 text-white hover:bg-white/10 focus-visible:border-cyan-500 focus-visible:ring-cyan-500/30 outline-none rounded-lg\">\r\n            <SelectValue placeholder={t(\"Filter by status\")} />\r\n          </SelectTrigger>\r\n          <SelectContent className=\"bg-zinc-900 border-white/10 text-white\">\r\n            <SelectItem value=\"all\">{t(\"All\")}</SelectItem>\r\n            <SelectItem value=\"pending\">{t(\"Pending\")}</SelectItem>\r\n            <SelectItem value=\"in_progress\">{t(\"In Progress\")}</SelectItem>\r\n            <SelectItem value=\"waiting_parts\">{t(\"Waiting Parts\")}</SelectItem>\r\n            <SelectItem value=\"completed\">{t(\"Completed\")}</SelectItem>\r\n            <SelectItem value=\"delivered\">{t(\"Delivered\")}</SelectItem>\r\n            <SelectItem value=\"cancelled\">{t(\"Cancelled\")}</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      <div className=\"rounded-md border border-white/10 bg-white/5 overflow-hidden\">\r\n        <Table>\r\n          <TableHeader className=\"bg-white/5\">\r\n            <TableRow className=\"border-white/10 hover:bg-white/5\">\r\n              <TableHead className=\"text-white\">{t(\"Order ID\")}</TableHead>\r\n              <TableHead className=\"text-white\">{t(\"Customer\")}</TableHead>\r\n              <TableHead className=\"text-white\">{t(\"Device\")}</TableHead>\r\n              <TableHead className=\"text-white\">{t(\"Issue\")}</TableHead>\r\n              <TableHead className=\"text-white\">{t(\"Status\")}</TableHead>\r\n              <TableHead className=\"text-white\">{t(\"Technician\")}</TableHead>\r\n              <TableHead className=\"text-white\">{t(\"Created\")}</TableHead>\r\n              <TableHead className=\"text-white text-right\">{t(\"Actions\")}</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {filteredOrders.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell colSpan={8} className=\"text-center py-8 text-white/50\">\r\n                  {t(\"No orders found\")}\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              paginatedOrders.map((order) => (\r\n                <TableRow key={order.id} className=\"border-white/10 hover:bg-white/5\">\r\n                  <TableCell className=\"font-medium text-white\">{order.orderId}</TableCell>\r\n                  <TableCell>\r\n                    <div className=\"flex flex-col\">\r\n                      <span className=\"text-white\">{order.customerName}</span>\r\n                      <span className=\"text-xs text-white/50\">{order.customerPhone}</span>\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell className=\"text-white\">\r\n                    {order.brand} {order.model}\r\n                  </TableCell>\r\n                  <TableCell className=\"text-white\">{order.issue}</TableCell>\r\n                  <TableCell>\r\n                    <Badge variant=\"outline\" className={cn(\"capitalize\", statusColors[order.status as keyof typeof statusColors])}>\r\n                      {statusLabel(order.status)}\r\n                    </Badge>\r\n                  </TableCell>\r\n                  <TableCell className=\"text-white\">\r\n                    {order.technicianName ? (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <User className=\"h-3 w-3 text-cyan-400\" />\r\n                        <span>{order.technicianName}</span>\r\n                      </div>\r\n                    ) : (\r\n                      <span className=\"text-white/30 italic\">{t(\"Unassigned\")}</span>\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell className=\"text-white/60\">\r\n                    {order.createdAt?.seconds ? formatDistanceToNow(new Date(order.createdAt.seconds * 1000), { addSuffix: true }) : t(\"Just now\")}\r\n                  </TableCell>\r\n                  <TableCell className=\"text-right\">\r\n                    <DropdownMenu>\r\n                      <DropdownMenuTrigger asChild>\r\n                        <Button variant=\"ghost\" className=\"h-8 w-8 p-0 text-white/70 hover:text-white\">\r\n                          <span className=\"sr-only\">{t(\"Open menu\")}</span>\r\n                          <MoreHorizontal className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </DropdownMenuTrigger>\r\n                      <DropdownMenuContent align=\"end\" className=\"bg-zinc-900 border-zinc-800 text-white\">\r\n                        <DropdownMenuLabel>{t(\"Actions\")}</DropdownMenuLabel>\r\n                        <DropdownMenuItem onClick={() => { setSelectedOrder(order); setIsDetailsOpen(true) }}>\r\n                          <Eye className=\"mr-2 h-4 w-4\" /> {t(\"View Details\")}\r\n                        </DropdownMenuItem>\r\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\r\n                        <DropdownMenuLabel>{t(\"Update Status\")}</DropdownMenuLabel>\r\n                        <DropdownMenuItem onClick={() => handleStatusUpdate(order.id, \"in_progress\")}>\r\n                          <Clock className=\"mr-2 h-4 w-4\" /> {t(\"In Progress\")}\r\n                        </DropdownMenuItem>\r\n                        <DropdownMenuItem onClick={() => handleStatusUpdate(order.id, \"completed\")}>\r\n                          <CheckCircle className=\"mr-2 h-4 w-4\" /> {t(\"Completed\")}\r\n                        </DropdownMenuItem>\r\n                        {((order as any).pricingStatus === \"proposed\" && currentUserRole === \"super_admin\") && (\r\n                          <>\r\n                            <DropdownMenuSeparator className=\"bg-zinc-800\" />\r\n                            <DropdownMenuLabel>{t(\"Pricing Proposal\")}</DropdownMenuLabel>\r\n                            <DropdownMenuItem onClick={() => handleApproveProposal(order)}>\r\n                              <CheckCircle className=\"mr-2 h-4 w-4\" /> {t(\"Approve Proposal\")}\r\n                            </DropdownMenuItem>\r\n                            <DropdownMenuItem onClick={() => handleRejectProposal(order)}>\r\n                              <AlertTriangle className=\"mr-2 h-4 w-4\" /> {t(\"Reject Proposal\")}\r\n                            </DropdownMenuItem>\r\n                            <DropdownMenuItem onClick={() => { setSelectedOrder(order); setCounterDialogOpen(true) }}>\r\n                              <AlertTriangle className=\"mr-2 h-4 w-4\" /> {t(\"Counter Offer\")}\r\n                            </DropdownMenuItem>\r\n                          </>\r\n                        )}\r\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\r\n                        <DropdownMenuLabel>{t(\"Assign Technician\")}</DropdownMenuLabel>\r\n                        {technicians.map(tech => (\r\n                          <DropdownMenuItem key={tech.id} onClick={() => handleAssignTech(order.id, tech.id)}>\r\n                            <User className=\"mr-2 h-4 w-4\" /> {tech.name}\r\n                          </DropdownMenuItem>\r\n                        ))}\r\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\r\n                        <DropdownMenuLabel>{t(\"Notify Customer\")}</DropdownMenuLabel>\r\n                        <DropdownMenuItem onClick={() => handleWhatsAppNotify(order, \"confirmation\")}>\r\n                          <MessageCircle className=\"mr-2 h-4 w-4\" /> {t(\"Order Received\")}\r\n                        </DropdownMenuItem>\r\n                        <DropdownMenuItem onClick={() => handleWhatsAppNotify(order, \"assigned\")}>\r\n                          <MessageCircle className=\"mr-2 h-4 w-4\" /> {t(\"Technician Assigned\")}\r\n                        </DropdownMenuItem>\r\n                        <DropdownMenuItem onClick={() => handleWhatsAppNotify(order, \"complete\")}>\r\n                          <MessageCircle className=\"mr-2 h-4 w-4\" /> {t(\"Repair Complete\")}\r\n                        </DropdownMenuItem>\r\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\r\n                        <DropdownMenuItem className=\"text-red-500 hover:text-red-400\" onClick={() => handleDelete(order.id)}>\r\n                          <Trash2 className=\"mr-2 h-4 w-4\" /> {t(\"Delete Order\")}\r\n                        </DropdownMenuItem>\r\n                      </DropdownMenuContent>\r\n                    </DropdownMenu>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <div className=\"flex items-center justify-end gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\r\n            disabled={currentPage === 1}\r\n            className=\"bg-white/5 border-white/10 hover:bg-white/10 text-white\"\r\n          >\r\n            {t(\"Previous\")}\r\n          </Button>\r\n          <span className=\"text-sm text-white/50\">\r\n            {t(\"Page\")} {currentPage} {t(\"of\")} {totalPages}\r\n          </span>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\r\n            disabled={currentPage === totalPages}\r\n            className=\"bg-white/5 border-white/10 hover:bg-white/10 text-white\"\r\n          >\r\n            {t(\"Next\")}\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Order Details Modal */}\r\n      <Dialog open={isDetailsOpen} onOpenChange={setIsDetailsOpen}>\r\n        <DialogContent className=\"bg-zinc-950 border-zinc-800 text-white sm:max-w-[600px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>{t(\"Order Details\")}: {selectedOrder?.orderId}</DialogTitle>\r\n          </DialogHeader>\r\n          {selectedOrder && (\r\n            <div className=\"grid gap-4 py-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Customer\")}</h4>\r\n                  <p className=\"font-semibold\">{selectedOrder.customerName}</p>\r\n                  <p className=\"text-sm text-white/70\">{selectedOrder.customerPhone}</p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Device\")}</h4>\r\n                  <p className=\"font-semibold\">{selectedOrder.brand} {selectedOrder.model}</p>\r\n                  <p className=\"text-sm text-white/70\">{selectedOrder.deviceType}</p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Issue\")}</h4>\r\n                  <p className=\"font-semibold\">{selectedOrder.issue}</p>\r\n                </div>\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Status\")}</h4>\r\n                    <Badge variant=\"outline\" className={cn(\"capitalize\", statusColors[selectedOrder.status as keyof typeof statusColors])}>\r\n                      {selectedOrder.status.replace(\"_\", \" \")}\r\n                    </Badge>\r\n                  </div>\r\n                </div>\r\n\r\n                {((selectedOrder as any).pricingStatus) && (\r\n                  <div className=\"mt-4 grid grid-cols-2 gap-4 p-3 rounded border border-white/10 bg-white/5\">\r\n                    <div>\r\n                      <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Pricing Status\")}</h4>\r\n                      <p className=\"font-semibold\">{(selectedOrder as any).pricingStatus}</p>\r\n                    </div>\r\n                    {(selectedOrder as any).proposedPrice && (\r\n                      <div>\r\n                        <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Proposed Price\")}</h4>\r\n                        <p className=\"font-semibold\">AED {(selectedOrder as any).proposedPrice}</p>\r\n                      </div>\r\n                    )}\r\n                    {(selectedOrder as any).proposedPriceMin && (\r\n                      <div>\r\n                        <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Proposed Range\")}</h4>\r\n                        <p className=\"font-semibold\">AED {(selectedOrder as any).proposedPriceMin} - {(selectedOrder as any).proposedPriceMax}</p>\r\n                      </div>\r\n                    )}\r\n                    {(selectedOrder as any).proposedBreakdown && (\r\n                      <div className=\"col-span-2\">\r\n                        <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Breakdown\")}</h4>\r\n                        <div className=\"text-white/80 text-sm\">\r\n                          {t(\"Labor\")}: {((selectedOrder as any).proposedBreakdown.labor || 0)} • {t(\"Parts\")}: {((selectedOrder as any).proposedBreakdown.parts || 0)} • {t(\"Inspection\")}: {((selectedOrder as any).proposedBreakdown.inspection || 0)}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {(selectedOrder as any).proposalMediaUrls?.length > 0 && (\r\n                      <div className=\"col-span-2 grid grid-cols-3 gap-2\">\r\n                        {((selectedOrder as any).proposalMediaUrls || []).map((u: string, i: number) => (\r\n                          <a key={i} href={u} target=\"_blank\" rel=\"noreferrer\" className=\"block aspect-square rounded border border-white/10 overflow-hidden\">\r\n                            <img src={u} alt=\"media\" className=\"w-full h-full object-cover\" />\r\n                          </a>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                    {(selectedOrder as any).proposedDurationMinutes && (\r\n                      <div>\r\n                        <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Proposed Duration\")}</h4>\r\n                        <p className=\"font-semibold\">{(selectedOrder as any).proposedDurationMinutes} {t(\"minutes\")}</p>\r\n                      </div>\r\n                    )}\r\n                    {((selectedOrder as any).proposedExpiresAt) && (\r\n                      <div>\r\n                        <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Proposal Expires\")}</h4>\r\n                        <p className=\"font-semibold\">\r\n                          {(() => {\r\n                            const v = (selectedOrder as any).proposedExpiresAt\r\n                            const d = v?.toDate?.() ? v.toDate() : (typeof v === \"string\" ? new Date(v) : null)\r\n                            return d ? d.toLocaleString() : t(\"N/A\")\r\n                          })()}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"col-span-2\">\r\n                      <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Approval Tier\")}</h4>\r\n                      <p className=\"font-semibold\">\r\n                        {(() => {\r\n                          const data: any = selectedOrder\r\n                          const total = data?.proposedBreakdown\r\n                            ? Number(data.proposedBreakdown.labor || 0) + Number(data.proposedBreakdown.parts || 0) + Number(data.proposedBreakdown.inspection || 0)\r\n                            : (data?.proposedPriceMax ?? data?.proposedPriceMin ?? data?.proposedPrice ?? null)\r\n                          if (total == null) return t(\"Unknown\")\r\n                          if (total < 200) return t(\"Auto-approve recommended (<200 AED)\")\r\n                          if (total <= 500) return t(\"Admin review (200–500 AED)\")\r\n                          return t(\"Super Admin review (>500 AED)\")\r\n                        })()}\r\n                      </p>\r\n                    </div>\r\n                    {(selectedOrder as any).proposalNote && (\r\n                      <div className=\"col-span-2\">\r\n                        <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Technician Note\")}</h4>\r\n                        <p className=\"text-white/80\">{(selectedOrder as any).proposalNote}</p>\r\n                      </div>\r\n                    )}\r\n                    {((selectedOrder as any).pricingStatus === \"proposed\" && currentUserRole === \"super_admin\") && (\r\n                      <div className=\"col-span-2 flex gap-2\">\r\n                        <Button onClick={() => handleApproveProposal(selectedOrder)} className=\"bg-green-600 text-white\">{t(\"Approve Proposal\")}</Button>\r\n                        <Button variant=\"outline\" onClick={() => handleRejectProposal(selectedOrder)}>{t(\"Reject Proposal\")}</Button>\r\n                        <Button variant=\"outline\" onClick={() => setCounterDialogOpen(true)}>{t(\"Counter Offer\")}</Button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"ETA (minutes)\")}</h4>\r\n                    <div className=\"flex gap-2\">\r\n                      <Input\r\n                      type=\"number\"\r\n                      value={etaMinutes}\r\n                      onChange={(e) => setEtaMinutes(e.target.value)}\r\n                      className=\"bg-white/5 border-white/10 text-white\"\r\n                    />\r\n                    <Button onClick={handleEtaUpdate} className=\"bg-cyan-500 hover:bg-cyan-400 text-black\">\r\n                      {t(\"Save\")}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  {selectedOrder.estimatedCompletion && (\r\n                    <div className=\"p-3 rounded border flex items-center gap-3 transition-colors border-white/10 bg-white/5\">\r\n                      <Clock className=\"w-5 h-5 text-cyan-500\" />\r\n                      <div>\r\n                        <p className=\"text-xs text-white/60\">{t(\"Remaining Time\")}</p>\r\n                        <p className=\"text-sm font-mono text-white\">\r\n                          {new Date(selectedOrder.estimatedCompletion).toLocaleString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Timeline */}\r\n              <div className=\"mt-6 pt-6 border-t border-white/10\">\r\n                <h4 className=\"text-sm font-medium text-white/50 mb-4\">{t(\"Order Timeline\")}</h4>\r\n                <div className=\"space-y-0 relative\">\r\n                  {/* Vertical Line */}\r\n                  <div className=\"absolute left-2.5 top-2 bottom-4 w-0.5 bg-zinc-800\" />\r\n\r\n                  {(() => {\r\n                    const steps = [\r\n                      { id: \"pending\", label: t(\"Order Placed\"), description: t(\"Order has been created\") },\r\n                      { id: \"in_progress\", label: t(\"In Repair\"), description: t(\"Technician is working on the device\") },\r\n                      { id: \"completed\", label: t(\"Repair Completed\"), description: t(\"Device is fixed and ready\") },\r\n                      { id: \"delivered\", label: t(\"Delivered\"), description: t(\"Device returned to customer\") }\r\n                    ]\r\n\r\n                    // Determine current step index\r\n                    let currentStepIndex = 0\r\n                    if (selectedOrder.status === \"delivered\") currentStepIndex = 3\r\n                    else if (selectedOrder.status === \"completed\") currentStepIndex = 2\r\n                    else if (selectedOrder.status === \"in_progress\" || selectedOrder.status === \"waiting_parts\") currentStepIndex = 1\r\n                    else currentStepIndex = 0\r\n\r\n                    if (selectedOrder.status === \"cancelled\") {\r\n                      return (\r\n                        <div className=\"relative flex gap-4 pb-6\">\r\n                          <div className=\"relative z-10 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 ring-4 ring-zinc-950\">\r\n                            <AlertTriangle className=\"h-3 w-3 text-white\" />\r\n                          </div>\r\n                          <div className=\"flex flex-col\">\r\n                            <p className=\"text-sm font-medium text-red-500\">{t(\"Order Cancelled\")}</p>\r\n                            <p className=\"text-xs text-white/50\">{t(\"This order has been cancelled.\")}</p>\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    }\r\n\r\n                    return steps.map((step, index) => {\r\n                      const isCompleted = index < currentStepIndex\r\n                      const isCurrent = index === currentStepIndex\r\n                      const isFuture = index > currentStepIndex\r\n\r\n                      // Find relevant history item if completed or current\r\n                      // This is a heuristic matching\r\n                      const historyItem = selectedOrder.statusHistory?.find(h => {\r\n                        if (step.id === \"pending\") return h.status === \"pending\"\r\n                        if (step.id === \"in_progress\") return h.status === \"in_progress\" || h.status === \"waiting_parts\"\r\n                        if (step.id === \"completed\") return h.status === \"completed\"\r\n                        if (step.id === \"delivered\") return h.status === \"delivered\"\r\n                        return false\r\n                      })\r\n\r\n                      return (\r\n                        <div key={step.id} className={cn(\"relative flex gap-4 pb-8 last:pb-0\", isFuture && \"opacity-40\")}>\r\n                          <div className={cn(\r\n                            \"relative z-10 flex h-6 w-6 items-center justify-center rounded-full ring-4 ring-zinc-950 transition-colors\",\r\n                            isCompleted ? \"bg-cyan-500 text-black\" :\r\n                              isCurrent ? \"bg-cyan-500 ring-cyan-500/20 animate-pulse text-black\" :\r\n                                \"bg-zinc-800 text-white/30\"\r\n                          )}>\r\n                            {isCompleted ? <CheckCircle className=\"h-3 w-3\" /> :\r\n                              isCurrent ? <Clock className=\"h-3 w-3\" /> :\r\n                                <div className=\"h-2 w-2 rounded-full bg-current\" />}\r\n                          </div>\r\n                          <div className=\"flex flex-col -mt-1\">\r\n                            <p className={cn(\"text-sm font-medium\", isCurrent ? \"text-cyan-400\" : \"text-white\")}>\r\n                              {step.label}\r\n                            </p>\r\n                            <p className=\"text-xs text-white/50\">{step.description}</p>\r\n                            {(isCompleted || isCurrent) && historyItem?.timestamp && (\r\n                              <p className=\"text-[10px] text-white/30 mt-1\">\r\n                                {new Date(historyItem.timestamp.seconds * 1000).toLocaleString()}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    })\r\n                  })()}\r\n                </div>\r\n\r\n                {/* Detailed History Log (Collapsible or Separate) */}\r\n                {selectedOrder.statusHistory && selectedOrder.statusHistory.length > 0 && (\r\n                  <div className=\"mt-6 pt-4 border-t border-white/5\">\r\n                    <h5 className=\"text-xs font-medium text-white/40 mb-3 uppercase tracking-wider\">{t(\"Detailed History\")}</h5>\r\n                    <div className=\"space-y-3 pl-2 border-l border-white/5\">\r\n                      {selectedOrder.statusHistory.slice().reverse().map((h, i) => (\r\n                        <div key={i} className=\"pl-4 relative\">\r\n                          <div className=\"absolute left-[-5px] top-1.5 h-2 w-2 rounded-full bg-white/10\" />\r\n                          <p className=\"text-xs text-white/70\">{h.note || h.status}</p>\r\n                          <p className=\"text-[10px] text-white/30\">\r\n                            {h.timestamp?.seconds ? new Date(h.timestamp.seconds * 1000).toLocaleString() : t(\"Just now\")}\r\n                          </p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"mt-6 pt-6 border-t border-white/10\">\r\n                  <h4 className=\"text-sm font-medium text-white/50 mb-4\">{t(\"Invoice\")}</h4>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex gap-2\">\r\n                        <Button onClick={openInvoicePreview} className=\"bg-cyan-500 text-black\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"Generate Final Invoice\")}</Button>\r\n                        <Button variant=\"outline\" onClick={() => setInvoiceDialogOpen(true)}>{t(\"Preview Invoice\")}</Button>\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button variant=\"outline\" onClick={() => window.print()}>{t(\"Print Invoice\")}</Button>\r\n                        <Button variant=\"outline\" onClick={() => window.print()}>{t(\"Download as PDF\")}</Button>\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button variant=\"outline\" onClick={() => {\r\n                          const price = (selectedOrder as any)?.invoice?.total || (selectedOrder as any)?.totalCost || selectedOrder.price || 0\r\n                          const msgEn = `Your repair is completed. Final amount: AED ${price}. Please find your invoice attached. Thank you for choosing KBI.`\r\n                          const msgAr = `تم الانتهاء من صيانة جهازك. المبلغ النهائي: ${price} درهم. تجد الفاتورة مرفقة. شكرًا لاختيارك KBI.`\r\n                          const text = `${msgEn}\\n\\n${msgAr}`\r\n                          if (selectedOrder.customerPhone) {\r\n                            openWhatsApp(selectedOrder.customerPhone, text)\r\n                            toast({ title: t(\"WhatsApp opened\"), description: t(\"Invoice sent to customer\") })\r\n                          } else {\r\n                            toast({ title: t(\"No phone number available\"), description: t(\"Add customer phone to order\") })\r\n                          }\r\n                        }}>{t(\"Resend to Customer\")}</Button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"grid grid-cols-2 gap-2\">\r\n                        <Input placeholder={t(\"Discount\")} value={invoiceDiscount} onChange={(e) => setInvoiceDiscount(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\r\n                        <Input placeholder={t(\"Warranty Period\")} value={warrantyPeriod} onChange={(e) => setWarrantyPeriod(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <input type=\"checkbox\" checked={vatEnabled} onChange={(e) => setVatEnabled(e.target.checked)} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\r\n                          <span className=\"text-sm text-white\">{t(\"VAT Enabled\")}</span>\r\n                        </div>\r\n                        <Input placeholder={t(\"VAT Rate\")} value={vatRate} onChange={(e) => setVatRate(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\r\n                      </div>\r\n                      <Input placeholder={t(\"Disclaimer\")} value={disclaimerText} onChange={(e) => setDisclaimerText(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\r\n                      <Input placeholder={t(\"Admin Notes\")} value={adminNotesInvoice} onChange={(e) => setAdminNotesInvoice(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\r\n                      <div className=\"grid grid-cols-3 gap-2\">\r\n                        <Button variant={invoiceLang === \"en\" ? \"default\" : \"outline\"} onClick={() => setInvoiceLang(\"en\")} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"English\")}</Button>\r\n                        <Button variant={invoiceLang === \"ar\" ? \"default\" : \"outline\"} onClick={() => setInvoiceLang(\"ar\")} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"Arabic\")}</Button>\r\n                        <Button variant={invoiceLang === \"both\" ? \"default\" : \"outline\"} onClick={() => setInvoiceLang(\"both\")} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"EN + AR\")}</Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-4 flex items-center gap-2\">\r\n                    <Badge variant=\"outline\" className=\"text-white/70\">{t(\"Invoice Status\")}: {((selectedOrder as any).invoice?.status || (invoiceFinalized ? \"finalized\" : \"draft\"))}</Badge>\r\n                    <Button onClick={finalizeInvoice} className=\"bg-green-600 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"Finalize Invoice\")}</Button>\r\n                    <Input placeholder={t(\"Override reason\")} value={overrideReason} onChange={(e) => setOverrideReason(e.target.value)} className=\"bg-white/5 border-white/10 text-white max-w-xs\" />\r\n                    <Button variant=\"outline\" onClick={overrideInvoice}>{t(\"Override Edit\")}</Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n      <Dialog open={invoiceDialogOpen} onOpenChange={setInvoiceDialogOpen}>\r\n        <DialogContent className=\"bg-white text-black sm:max-w-[800px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>{t(\"Invoice Preview\")}</DialogTitle>\r\n          </DialogHeader>\r\n          {selectedOrder && (\r\n            <div className=\"max-h-[70vh] overflow-auto\">\r\n              <FinalInvoice\r\n                order={selectedOrder}\r\n                items={getInvoiceItemsForOrder(selectedOrder)}\r\n                invoiceNumber={invoiceNumber}\r\n                invoiceDate={new Date().toISOString()}\r\n                language={invoiceLang}\r\n                discount={Number(invoiceDiscount || 0)}\r\n                vatEnabled={vatEnabled}\r\n                vatRate={Number(vatRate || 0)}\r\n                warrantyPeriod={warrantyPeriod}\r\n                adminNotes={adminNotesInvoice}\r\n                disclaimerText={disclaimerText}\r\n              />\r\n            </div>\r\n          )}\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => window.print()}>{t(\"Print Invoice\")}</Button>\r\n            <Button onClick={finalizeInvoice}>{t(\"Finalize Invoice\")}</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n      <Dialog open={counterDialogOpen} onOpenChange={setCounterDialogOpen}>\r\n        <DialogContent className=\"bg-zinc-900 border-zinc-800 text-white sm:max-w-[500px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>{t(\"Counter Offer\")}: {selectedOrder?.orderId}</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"grid gap-3\">\r\n            <Input type=\"number\" placeholder={t(\"Counter Price (AED)\")} value={counterPrice} onChange={(e) => setCounterPrice(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" />\r\n            <Input type=\"number\" placeholder={t(\"Counter Duration (minutes)\")} value={counterDuration} onChange={(e) => setCounterDuration(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" />\r\n            <Input type=\"text\" placeholder={t(\"Arrival ETA\")} value={counterETA} onChange={(e) => setCounterETA(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" />\r\n            <Input type=\"text\" placeholder={t(\"Note\")} value={counterNote} onChange={(e) => setCounterNote(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" />\r\n          </div>\r\n          <DialogFooter>\r\n            <Button onClick={() => selectedOrder && handleCounterOffer(selectedOrder)}>{t(\"Save Counter\")}</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Ellipsis\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iNSIgY3k9IjEyIiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/ellipsis\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Ellipsis = createLucideIcon('Ellipsis', [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '19', cy: '12', r: '1', key: '1wjl8i' }],\n  ['circle', { cx: '5', cy: '12', r: '1', key: '1pcz8c' }],\n]);\n\nexport default Ellipsis;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xMiAxOHYtNiIgLz4KICA8cGF0aCBkPSJtOSAxNSAzIDMgMy0zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileDown = createLucideIcon('FileDown', [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M12 18v-6', key: '17g6i2' }],\n  ['path', { d: 'm9 15 3 3 3-3', key: '1npd3o' }],\n]);\n\nexport default FileDown;\n","/**\r\n * WhatsApp Messaging Service - Free Alternative to SMS\r\n * Uses WhatsApp Web API for sending messages\r\n * Popular and free in UAE\r\n */\r\n\r\nexport interface WhatsAppMessage {\r\n    to: string\r\n    body: string\r\n}\r\n\r\n/**\r\n * Format phone number for WhatsApp (removes +, spaces, dashes)\r\n */\r\nexport function formatPhoneForWhatsApp(phone: string): string {\r\n    // Remove all non-numeric characters\r\n    let cleaned = phone.replace(/\\D/g, \"\")\r\n\r\n    // Remove leading zeros\r\n    cleaned = cleaned.replace(/^0+/, \"\")\r\n\r\n    // Add UAE country code if not present\r\n    if (!cleaned.startsWith(\"971\")) {\r\n        cleaned = `971${cleaned}`\r\n    }\r\n\r\n    return cleaned\r\n}\r\n\r\n/**\r\n * Generate WhatsApp click-to-chat URL\r\n * This opens WhatsApp with a pre-filled message\r\n */\r\nexport function generateWhatsAppUrl(phone: string, message: string): string {\r\n    const formattedPhone = formatPhoneForWhatsApp(phone)\r\n    const encodedMessage = encodeURIComponent(message)\r\n    return `https://wa.me/${formattedPhone}?text=${encodedMessage}`\r\n}\r\n\r\n/**\r\n * Open WhatsApp in new window (for client-side use)\r\n */\r\nexport function openWhatsApp(phone: string, message: string): void {\r\n    const url = generateWhatsAppUrl(phone, message)\r\n    window.open(url, \"_blank\", \"noopener,noreferrer\")\r\n}\r\n\r\n/**\r\n * Send WhatsApp via API (for server-side automation)\r\n * This requires WhatsApp Business API setup\r\n */\r\nexport async function sendWhatsApp(\r\n    to: string,\r\n    body: string\r\n): Promise<{ success: boolean; url?: string; error?: string }> {\r\n    try {\r\n        const response = await fetch(\"/api/whatsapp/send\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ to, body })\r\n        })\r\n\r\n        const result = await response.json()\r\n\r\n        if (!response.ok) {\r\n            return { success: false, error: result.error || \"Failed to send\" }\r\n        }\r\n\r\n        return { success: true, url: result.url }\r\n    } catch (error) {\r\n        return { success: false, error: \"Failed to send message\" }\r\n    }\r\n}\r\n\r\n/**\r\n * WhatsApp Message Templates - Pre-written for common scenarios\r\n */\r\nexport const WhatsAppTemplates = {\r\n    orderConfirmation: (orderId: string, customerName: string) =>\r\n        `مرحباً ${customerName}! 👋\r\n\r\nتم استلام طلب الإصلاح رقم #${orderId} بنجاح ✅\r\n\r\nسيتم تعيين فني لك قريباً.\r\n\r\nللمتابعة: kbi.ae/track\r\n\r\nKBI Repair Services`,\r\n\r\n    technicianAssigned: (orderId: string, techName: string, techPhone: string) =>\r\n        `أخبار سارة! 🎉\r\n\r\nتم تعيين الفني *${techName}* لطلبك #${orderId}\r\n\r\n📞 للتواصل: ${techPhone}\r\n\r\nسيصل إليك قريباً!`,\r\n\r\n    onTheWay: (orderId: string, techName: string, eta?: string) =>\r\n        `🚗 الفني ${techName} في الطريق إليك!\r\n\r\nطلب: #${orderId}\r\n${eta ? `الوصول المتوقع: ${eta}` : \"\"}\r\n\r\nيرجى التأكد من توفركم.`,\r\n\r\n    repairStarted: (orderId: string) =>\r\n        `🔧 بدأ العمل على طلبك #${orderId}\r\n\r\nسنُعلمك فور الانتهاء.`,\r\n\r\n    repairComplete: (orderId: string, rateLink: string) =>\r\n        `✅ تم إنجاز الإصلاح بنجاح!\r\n\r\nطلب: #${orderId}\r\n\r\n⭐ قيّم تجربتك: ${rateLink}\r\n\r\nشكراً لاختيارك KBI Repair!`,\r\n\r\n    waitingParts: (orderId: string) =>\r\n        `⏳ تحديث لطلبك #${orderId}\r\n\r\nنحن بانتظار وصول قطع الغيار.\r\nسنُعلمك فور استئناف العمل.`\r\n}\r\n\r\n/**\r\n * Get WhatsApp business number for company\r\n */\r\nexport const COMPANY_WHATSAPP = \"+971501234567\" // Update with real number\r\n"],"names":[],"mappings":"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","ignoreList":[3,4]}