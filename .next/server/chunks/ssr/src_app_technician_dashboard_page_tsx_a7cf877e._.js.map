{"version":3,"sources":["../../../../src/app/technician/dashboard/page.tsx","../../../../src/components/features/tech-stats-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { ShoppingCart, Clock, CircleCheckBig, AlertTriangle, Activity, Calendar, MapPin, Phone, Smartphone } from \"lucide-react\"\r\nimport { collection, onSnapshot, query, where, orderBy, limit } from \"firebase/firestore\"\r\nimport { db, auth, isMockMode } from \"@/lib/firebaseConfig\"\r\nimport { useLanguage } from \"@/lib/i18n\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { TechStatsCard } from \"@/components/features/tech-stats-card\"\r\nimport { QuickActions, StatusButtons } from \"@/components/features/quick-actions\"\r\nimport { getTechnicianIdFromUser } from \"@/lib/firestore/services/technicianService\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { proposeOrderPricing, acceptAssignedOrder, startWork, reAcceptCounterOffer } from \"@/lib/firestore/services/orderService\"\r\nimport { storage } from \"@/lib/firebaseConfig\"\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\"\r\nimport { logger } from \"@/lib/utils\"\r\n\r\nexport default function TechnicianDashboard() {\r\n  const { t, language } = useLanguage()\r\n  const router = useRouter()\r\n  const [loading, setLoading] = useState(true)\r\n  const [stats, setStats] = useState({\r\n    activeJobs: 0,\r\n    completedToday: 0,\r\n    totalAssigned: 0,\r\n    pending: 0\r\n  })\r\n  const [assignedOrders, setAssignedOrders] = useState<any[]>([])\r\n  const [user, setUser] = useState<any>(null)\r\n  const [notifications, setNotifications] = useState<any[]>([])\r\n  const [techId, setTechId] = useState<string | null>(null)\r\n  const [openProposalId, setOpenProposalId] = useState<string | null>(null)\r\n  const [proposalDuration, setProposalDuration] = useState<string>(\"\")\r\n  const [proposalUnit, setProposalUnit] = useState<\"minutes\" | \"hours\">(\"minutes\")\r\n  const [proposalNote, setProposalNote] = useState<string>(\"\")\r\n  const [proposalETA, setProposalETA] = useState<string>(\"\")\r\n  const [priceMode, setPriceMode] = useState<\"range\" | \"breakdown\">(\"range\")\r\n  const [proposalPriceMin, setProposalPriceMin] = useState<string>(\"\")\r\n  const [proposalPriceMax, setProposalPriceMax] = useState<string>(\"\")\r\n  const [breakdownLabor, setBreakdownLabor] = useState<string>(\"\")\r\n  const [breakdownParts, setBreakdownParts] = useState<string>(\"\")\r\n  const [breakdownInspection, setBreakdownInspection] = useState<string>(\"\")\r\n  const [proposalMediaUrls, setProposalMediaUrls] = useState<string[]>([])\r\n\r\n  useEffect(() => {\r\n    // Real Firebase auth\r\n    const unsubscribe = auth.onAuthStateChanged((u) => {\r\n      setUser(u)\r\n    })\r\n    return () => unsubscribe()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n    const fetchTechId = async () => {\r\n      const id = await getTechnicianIdFromUser({ uid: user.uid, email: user.email || undefined })\r\n      setTechId(id)\r\n    }\r\n    fetchTechId()\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    if (!user?.uid) return\r\n    if (isMockMode) {\r\n      setAssignedOrders([])\r\n      setStats({ activeJobs: 0, completedToday: 0, totalAssigned: 0, pending: 0 })\r\n      setLoading(false)\r\n      return\r\n    }\r\n    setLoading(true)\r\n    const ordersRef = collection(db, \"orders\")\r\n    const q = query(ordersRef, where(\"technicianId\", \"==\", user.uid), orderBy(\"createdAt\", \"desc\"))\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      const orders = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }))\r\n      setAssignedOrders(orders)\r\n      const active = orders.filter((o: any) => [\"in_progress\", \"on_way\", \"pending\"].includes(o.status)).length\r\n      const today = new Date().toISOString().split('T')[0]\r\n      const completedToday = orders.filter((o: any) => o.status === \"completed\" && o.updatedAt?.toDate?.().toISOString().split('T')[0] === today).length\r\n      setStats({\r\n        activeJobs: active,\r\n        completedToday: completedToday,\r\n        totalAssigned: orders.length,\r\n        pending: orders.filter((o: any) => o.status === \"pending\").length\r\n      })\r\n      setLoading(false)\r\n    })\r\n    return () => { unsubscribe() }\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n    if (isMockMode) {\r\n      setNotifications([])\r\n      return\r\n    }\r\n    const notifQ = query(collection(db, \"notifications\"), where(\"role\", \"==\", \"technician\"), where(\"userId\", \"==\", user.uid || user.id), orderBy(\"createdAt\", \"desc\"))\r\n    const unsubNotif = onSnapshot(notifQ, (snap) => {\r\n      setNotifications(snap.docs.map(d => ({ id: d.id, ...d.data() })))\r\n    })\r\n    return () => { unsubNotif() }\r\n  }, [user])\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case \"pending\": return \"bg-yellow-500/20 text-yellow-500 border-yellow-500/50\"\r\n      case \"in_progress\": return \"bg-blue-500/20 text-blue-500 border-blue-500/50\"\r\n      case \"on_way\": return \"bg-purple-500/20 text-purple-500 border-purple-500/50\"\r\n      case \"completed\": return \"bg-green-500/20 text-green-500 border-green-500/50\"\r\n      case \"cancelled\": return \"bg-red-500/20 text-red-500 border-red-500/50\"\r\n      default: return \"bg-gray-500/20 text-gray-500 border-gray-500/50\"\r\n    }\r\n  }\r\n\r\n  const getStatusLabel = (status: string) => {\r\n    // Simple mapping, can be expanded with t()\r\n    return status.replace('_', ' ').toUpperCase()\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6 animate-in fade-in duration-500\">\r\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold tracking-tight text-white\">{t(\"Technician Dashboard\")}</h1>\r\n          <p className=\"text-white/60 mt-1\">{t(\"Welcome back\")}, {user?.name || \"Technician\"}</p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={() => router.push('/technician/orders')} variant=\"outline\" className=\"border-cyan-500/50 text-cyan-500 hover:bg-cyan-500/10\">\r\n            {t(\"View All Orders\")}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Earnings & Performance Stats */}\r\n      {techId && <TechStatsCard technicianId={techId} />}\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n        <Card className=\"relative overflow-hidden bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10 border-white/10 backdrop-blur-md ring-1 ring-white/10\">\r\n          <div className=\"pointer-events-none absolute inset-0\">\r\n            <div className=\"absolute -inset-1 rounded-xl bg-[linear-gradient(to_right,#ffffff12_1px,transparent_1px),linear-gradient(to_bottom,#ffffff10_1px,transparent_1px)] bg-[size:22px_22px] opacity-15\" />\r\n            <div className=\"absolute -top-20 -right-24 w-72 h-72 rounded-full bg-cyan-500/10 blur-2xl\" />\r\n            <div className=\"absolute -bottom-28 -left-28 w-80 h-80 rounded-full bg-blue-500/10 blur-2xl\" />\r\n          </div>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-white/80\">{t(\"Active Jobs\")}</CardTitle>\r\n            <Activity className=\"h-4 w-4 text-cyan-500\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-white\">{loading ? \"...\" : stats.activeJobs}</div>\r\n            <p className=\"text-xs text-white/60\">{t(\"Orders in progress\")}</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"bg-white/5 border-white/10 backdrop-blur-sm\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-white/80\">{t(\"Pending\")}</CardTitle>\r\n            <Clock className=\"h-4 w-4 text-yellow-500\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-white\">{loading ? \"...\" : stats.pending}</div>\r\n            <p className=\"text-xs text-white/60\">{t(\"Waiting for action\")}</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"bg-white/5 border-white/10 backdrop-blur-sm\">\r\n          <CardHeader className=\"relative flex flex-row items-center justify-between space-y-0 px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500/15 via-cyan-500/10 to-cyan-500/20 border border-white/10 shadow-[0_8px_30px_-12px_rgba(6,182,212,0.35)]\">\r\n            <CardTitle className=\"text-sm font-semibold text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-cyan-200\">{t(\"Completed Today\")}</CardTitle>\r\n            <div className=\"relative flex items-center justify-center w-8 h-8 rounded-full bg-emerald-500/20 ring-2 ring-emerald-400/30 shadow-[0_0_20px_rgba(34,197,94,0.25)]\">\r\n              <CircleCheckBig className=\"h-4 w-4 text-emerald-400\" />\r\n              <span className=\"absolute inset-0 rounded-full blur-[6px] bg-emerald-500/30 opacity-40\" />\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-white\">{loading ? \"...\" : stats.completedToday}</div>\r\n            <p className=\"text-xs text-white/60\">{t(\"Successfully finished\")}</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"bg-white/5 border-white/10 backdrop-blur-sm\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-white/80\">{t(\"Total Assigned\")}</CardTitle>\r\n            <ShoppingCart className=\"h-4 w-4 text-purple-500\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-white\">{loading ? \"...\" : stats.totalAssigned}</div>\r\n            <p className=\"text-xs text-white/60\">{t(\"Lifetime orders\")}</p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Recent Assigned Orders */}\r\n      <Card className=\"bg-white/5 border-white/10 backdrop-blur-sm\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-white\">{t(\"Recent Assigned Orders\")}</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {loading ? (\r\n            <div className=\"text-center py-10 text-white/50\">{t(\"Loading orders...\")}</div>\r\n          ) : assignedOrders.length === 0 ? (\r\n            <div className=\"text-center py-10 text-white/50\">{t(\"No orders assigned yet.\")}</div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {assignedOrders.slice(0, 5).map((order) => (\r\n                <div\r\n                  key={order.id}\r\n                  className=\"flex flex-col md:flex-row items-start md:items-center justify-between p-4 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors cursor-pointer\"\r\n                  onClick={() => router.push(`/technician/order/${order.id}`)}\r\n                >\r\n                  <div className=\"flex gap-4 items-start\">\r\n                    <div className=\"h-12 w-12 rounded-full bg-cyan-500/20 flex items-center justify-center shrink-0\">\r\n                      <Smartphone className=\"h-6 w-6 text-cyan-500\" />\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-white\">{order.device} <span className=\"text-white/40 text-sm\">#{order.id}</span></h4>\r\n                      <p className=\"text-sm text-white/60\">{order.issue}</p>\r\n                      <div className=\"flex flex-wrap gap-2 mt-2 text-xs text-white/50\">\r\n                        <span className=\"flex items-center gap-1\"><Calendar className=\"w-3 h-3\" /> {new Date(order.date || order.createdAt).toLocaleDateString()}</span>\r\n                        <span className=\"flex items-center gap-1\"><MapPin className=\"w-3 h-3\" /> {order.location || \"N/A\"}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-4 md:mt-0 flex flex-col items-end gap-2 w-full md:w-auto\">\r\n                    <Badge variant=\"outline\" className={getStatusColor(order.status)}>\r\n                      {getStatusLabel(order.status)}\r\n                    </Badge>\r\n                    <span className=\"text-cyan-400 font-mono font-medium\">{order.price} AED</span>\r\n                    {order.status === \"assigned\" && (\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        className=\"w-full bg-white/5 border-white/10 hover:bg-white/10 text-white\"\r\n                        onClick={async (e) => {\r\n                          e.stopPropagation()\r\n                          if (isMockMode) {\r\n                            setAssignedOrders(prev => prev.map(o => o.id === order.id ? { ...o, status: \"accepted\" } : o))\r\n                          } else if (user?.uid) {\r\n                            try { await acceptAssignedOrder(order.id, user.uid) } catch (err) { logger.error(err) }\r\n                          }\r\n                        }}\r\n                      >\r\n                        {t(\"Accept Order\")}\r\n                      </Button>\r\n                    )}\r\n                    {order.pricingStatus === \"countered\" && (\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        className=\"w-full bg-white/5 border-white/10 hover:bg-white/10 text-white\"\r\n                        onClick={async (e) => {\r\n                          e.stopPropagation()\r\n                          if (isMockMode) {\r\n                            setAssignedOrders(prev => prev.map(o => o.id === order.id ? { ...o, pricingStatus: \"re_accepted\" } : o))\r\n                          } else if (user?.uid) {\r\n                            try { await reAcceptCounterOffer(order.id, user.uid) } catch (err) { logger.error(err) }\r\n                          }\r\n                        }}\r\n                      >\r\n                        {t(\"Accept Counter-Offer\")}\r\n                      </Button>\r\n                    )}\r\n                    <div className=\"text-xs text-white/60\">\r\n                      {order.pricingStatus && (\r\n                        <span className=\"px-2 py-1 rounded bg-white/10 border border-white/10\">\r\n                          {t(\"Pricing\")}: {order.pricingStatus}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    {order.pricingStatus === \"approved\" && order.status === \"accepted\" && (\r\n                      <Button\r\n                        className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\r\n                        onClick={async (e) => {\r\n                          e.stopPropagation()\r\n                          if (isMockMode) {\r\n                            setAssignedOrders(prev => prev.map(o => o.id === order.id ? { ...o, status: \"in_progress\" } : o))\r\n                          } else if (user?.uid) {\r\n                            try { await startWork(order.id, user.uid) } catch (err) { logger.error(err) }\r\n                          }\r\n                        }}\r\n                      >\r\n                        {t(\"Start Work\")}\r\n                      </Button>\r\n                    )}\r\n                    {((order.status === \"assigned\" || order.status === \"accepted\") && ((order.pricingStatus ?? \"none\") === \"none\" || order.pricingStatus === \"rejected\" || order.pricingStatus === \"countered\")) && (\r\n                      <div\r\n                        className=\"w-full md:w-auto mt-2 p-2 rounded border border-white/10 bg-white/5\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                      >\r\n                        {openProposalId !== order.id ? (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            className=\"w-full bg-white/5 border-white/10 hover:bg-white/10 text-white\"\r\n                            onClick={() => setOpenProposalId(order.id)}\r\n                          >\r\n                            {t(\"Propose Price & Time\")}\r\n                          </Button>\r\n                        ) : (\r\n                          <div className=\"space-y-2\">\r\n                            <div className=\"flex gap-2\">\r\n                              <Button variant={priceMode === \"range\" ? \"default\" : \"outline\"} onClick={() => setPriceMode(\"range\")}>{t(\"Range\")}</Button>\r\n                              <Button variant={priceMode === \"breakdown\" ? \"default\" : \"outline\"} onClick={() => setPriceMode(\"breakdown\")}>{t(\"Breakdown\")}</Button>\r\n                            </div>\r\n                            {priceMode === \"range\" ? (\r\n                              <div className=\"grid grid-cols-2 gap-2\">\r\n                                <Input\r\n                                  type=\"number\"\r\n                                  placeholder={t(\"Price Min (AED)\")}\r\n                                  value={proposalPriceMin}\r\n                                  onChange={(e) => setProposalPriceMin(e.target.value)}\r\n                                  className=\"bg-white/5 border-white/10 text-white\"\r\n                                />\r\n                                <Input\r\n                                  type=\"number\"\r\n                                  placeholder={t(\"Price Max (AED)\")}\r\n                                  value={proposalPriceMax}\r\n                                  onChange={(e) => setProposalPriceMax(e.target.value)}\r\n                                  className=\"bg-white/5 border-white/10 text-white\"\r\n                                />\r\n                              </div>\r\n                            ) : (\r\n                              <div className=\"grid grid-cols-3 gap-2\">\r\n                                <Input type=\"number\" placeholder={t(\"Labor\")} value={breakdownLabor} onChange={(e) => setBreakdownLabor(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" />\r\n                                <Input type=\"number\" placeholder={t(\"Parts\")} value={breakdownParts} onChange={(e) => setBreakdownParts(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" />\r\n                                <Input type=\"number\" placeholder={t(\"Inspection\")} value={breakdownInspection} onChange={(e) => setBreakdownInspection(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" />\r\n                              </div>\r\n                            )}\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                              <div className=\"flex gap-2\">\r\n                                <Input\r\n                                  type=\"number\"\r\n                                  placeholder={t(\"Estimated Time\")}\r\n                                  value={proposalDuration}\r\n                                  onChange={(e) => setProposalDuration(e.target.value)}\r\n                                  className=\"bg-white/5 border-white/10 text-white\"\r\n                                />\r\n                                <Select value={proposalUnit} onValueChange={(v) => setProposalUnit(v as any)}>\r\n                                  <SelectTrigger className=\"bg-white/5 border-white/10 text-white\">\r\n                                    <SelectValue placeholder={t(\"Unit\")} />\r\n                                  </SelectTrigger>\r\n                                  <SelectContent className=\"bg-zinc-900 border-white/10 text-white\">\r\n                                    <SelectItem value=\"minutes\">{t(\"Minutes\")}</SelectItem>\r\n                                    <SelectItem value=\"hours\">{t(\"Hours\")}</SelectItem>\r\n                                  </SelectContent>\r\n                                </Select>\r\n                              </div>\r\n                              <Input\r\n                                type=\"text\"\r\n                                placeholder={t(\"Arrival ETA (e.g., 2025-01-01 14:00)\") }\r\n                                value={proposalETA}\r\n                                onChange={(e) => setProposalETA(e.target.value)}\r\n                                className=\"bg-white/5 border-white/10 text-white\"\r\n                              />\r\n                            </div>\r\n                            <Textarea\r\n                              placeholder={t(\"Note (optional)\")}\r\n                              value={proposalNote}\r\n                              onChange={(e) => setProposalNote(e.target.value)}\r\n                              className=\"bg-white/5 border-white/10 text-white\"\r\n                            />\r\n                            <div>\r\n                              <Input type=\"file\" multiple accept=\"image/*,video/*\" onChange={async (e) => {\r\n                                const files = Array.from(e.target.files || [])\r\n                                if (!files.length) return\r\n                                const urls: string[] = []\r\n                                for (const f of files) {\r\n                                  try {\r\n                                    if (!storage || isMockMode) {\r\n                                      urls.push(URL.createObjectURL(f))\r\n                                    } else {\r\n                                      const r = ref(storage, `orders/${order.id}/proposal/${Date.now()}_${f.name}`)\r\n                                      await uploadBytes(r, f)\r\n                                      const u = await getDownloadURL(r)\r\n                                      urls.push(u)\r\n                                    }\r\n                                  } catch (err) { logger.error(err) }\r\n                                }\r\n                                setProposalMediaUrls(urls)\r\n                              }} className=\"bg-white/5 border-white/10 text-white\" />\r\n                              {proposalMediaUrls.length > 0 && (\r\n                                <div className=\"grid grid-cols-3 gap-2 mt-2\">\r\n                                  {proposalMediaUrls.map((u, i) => (\r\n                                    <a key={i} href={u} target=\"_blank\" rel=\"noreferrer\" className=\"block aspect-square rounded border border-white/10 overflow-hidden\">\r\n                                      <img src={u} alt=\"media\" className=\"w-full h-full object-cover\" />\r\n                                    </a>\r\n                                  ))}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"flex gap-2\">\r\n                              <Button\r\n                                className=\"bg-cyan-500 hover:bg-cyan-400 text-black\"\r\n                                onClick={async () => {\r\n                                  const dur = parseFloat(proposalDuration)\r\n                                  if (isNaN(dur) || dur <= 0 || !techId) return\r\n                                  let minVal: number | undefined\r\n                                  let maxVal: number | undefined\r\n                                  let breakdown: { labor?: number; parts?: number; inspection?: number } | undefined\r\n                                  if (priceMode === \"range\") {\r\n                                    const minP = parseFloat(proposalPriceMin)\r\n                                    const maxP = parseFloat(proposalPriceMax)\r\n                                    if (isNaN(minP) || isNaN(maxP) || minP <= 0 || maxP <= 0) return\r\n                                    minVal = minP; maxVal = maxP\r\n                                  } else {\r\n                                    const l = parseFloat(breakdownLabor || \"0\")\r\n                                    const p = parseFloat(breakdownParts || \"0\")\r\n                                    const i = parseFloat(breakdownInspection || \"0\")\r\n                                    if ((l <= 0 && p <= 0 && i <= 0)) return\r\n                                    breakdown = { labor: l || 0, parts: p || 0, inspection: i || 0 }\r\n                                  }\r\n                                  const minutes = proposalUnit === \"hours\" ? Math.round(dur * 60) : Math.round(dur)\r\n                                  if (isMockMode) {\r\n                                    setAssignedOrders((prev) =>\r\n                                      prev.map((o) =>\r\n                                        o.id === order.id\r\n                                          ? {\r\n                                              ...o,\r\n                                              proposedPrice: maxVal ?? (breakdown ? (breakdown.labor || 0) + (breakdown.parts || 0) + (breakdown.inspection || 0) : null),\r\n                                              proposedPriceMin: minVal ?? null,\r\n                                              proposedPriceMax: maxVal ?? null,\r\n                                              proposedBreakdown: breakdown ?? null,\r\n                                              proposedDurationMinutes: minutes,\r\n                                              proposedArrivalETA: proposalETA || null,\r\n                                              proposalNote: proposalNote || null,\r\n                                              proposedByTechnicianId: user.uid,\r\n                                              proposedAt: new Date().toISOString(),\r\n                                              pricingStatus: \"proposed\",\r\n                                              proposalMediaUrls: proposalMediaUrls,\r\n                                            }\r\n                                          : o\r\n                                      )\r\n                                    )\r\n                                  } else {\r\n                                    await proposeOrderPricing(order.id, {\r\n                                      proposedPriceMin: minVal ?? null,\r\n                                      proposedPriceMax: maxVal ?? null,\r\n                                      proposedBreakdown: breakdown ?? null,\r\n                                      proposedDurationMinutes: minutes,\r\n                                      proposedArrivalETA: proposalETA || null,\r\n                                      proposalNote: proposalNote || undefined,\r\n                                      proposalMediaUrls,\r\n                                      proposedByTechnicianId: user.uid,\r\n                                    })\r\n                                  }\r\n                                  setOpenProposalId(null)\r\n                                  setProposalPriceMin(\"\")\r\n                                  setProposalPriceMax(\"\")\r\n                                  setBreakdownLabor(\"\")\r\n                                  setBreakdownParts(\"\")\r\n                                  setBreakdownInspection(\"\")\r\n                                  setProposalDuration(\"\")\r\n                                  setProposalUnit(\"minutes\")\r\n                                  setProposalNote(\"\")\r\n                                  setProposalETA(\"\")\r\n                                  setProposalMediaUrls([])\r\n                                }}\r\n                              >\r\n                                {t(\"Submit Proposal\")}\r\n                              </Button>\r\n                              <Button\r\n                                variant=\"outline\"\r\n                                className=\"bg-white/5 border-white/10 text-white\"\r\n                                onClick={() => {\r\n                                  setOpenProposalId(null)\r\n                                  setProposalPriceMin(\"\")\r\n                                  setProposalPriceMax(\"\")\r\n                                  setBreakdownLabor(\"\")\r\n                                  setBreakdownParts(\"\")\r\n                                  setBreakdownInspection(\"\")\r\n                                  setProposalDuration(\"\")\r\n                                  setProposalUnit(\"minutes\")\r\n                                  setProposalNote(\"\")\r\n                                  setProposalETA(\"\")\r\n                                  setProposalMediaUrls([])\r\n                                }}\r\n                              >\r\n                                {t(\"Cancel\")}\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Notifications */}\r\n      <Card className=\"bg-white/5 border-white/10 backdrop-blur-sm\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-white\">{t(\"Notifications\")}</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {notifications.length === 0 ? (\r\n            <div className=\"text-white/50\">{t(\"No notifications\")}</div>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {notifications.slice(0, 6).map((n) => (\r\n                <div key={n.id} className=\"p-2 rounded bg-white/5 border border-white/10 text-sm\">\r\n                  <div className=\"text-white\">{n.message}</div>\r\n                  <div className=\"text-white/40 text-[10px]\">{new Date(n.createdAt?.toDate?.() || n.createdAt).toLocaleString()}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Star, CheckCircle, Clock, TrendingUp, Zap } from \"lucide-react\"\r\nimport { collection, query, where, getDocs } from \"firebase/firestore\"\r\nimport { db, isMockMode } from \"@/lib/firebaseConfig\"\r\nimport { cn, logger } from \"@/lib/utils\"\r\n\r\ninterface TechStatsCardProps {\r\n    technicianId: string\r\n}\r\n\r\ninterface Stats {\r\n    totalJobs: number\r\n    completedToday: number\r\n    avgRating: number\r\n    avgRepairTime: number // in minutes\r\n    earningsToday: number\r\n    earningsWeek: number\r\n}\r\n\r\nexport function TechStatsCard({ technicianId }: TechStatsCardProps) {\r\n    const [stats, setStats] = useState<Stats>({\r\n        totalJobs: 0,\r\n        completedToday: 0,\r\n        avgRating: 0,\r\n        avgRepairTime: 0,\r\n        earningsToday: 0,\r\n        earningsWeek: 0\r\n    })\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const fetchStats = async () => {\r\n            if (!technicianId) return\r\n\r\n            try {\r\n                if (isMockMode) {\r\n                    setStats({\r\n                        totalJobs: 0,\r\n                        completedToday: 0,\r\n                        avgRating: 0,\r\n                        avgRepairTime: 0,\r\n                        earningsToday: 0,\r\n                        earningsWeek: 0\r\n                    })\r\n                    setLoading(false)\r\n                    return\r\n                }\r\n                const ordersQuery = query(\r\n                    collection(db, \"orders\"),\r\n                    where(\"technicianId\", \"==\", technicianId)\r\n                )\r\n                const snapshot = await getDocs(ordersQuery)\r\n\r\n                const today = new Date()\r\n                today.setHours(0, 0, 0, 0)\r\n                const weekAgo = new Date(today)\r\n                weekAgo.setDate(weekAgo.getDate() - 7)\r\n\r\n                let totalRating = 0\r\n                let ratingCount = 0\r\n                let totalRepairTime = 0\r\n                let repairTimeCount = 0\r\n                let earningsToday = 0\r\n                let earningsWeek = 0\r\n                let completedToday = 0\r\n\r\n                snapshot.docs.forEach(doc => {\r\n                    const order = doc.data()\r\n                    const orderDate = order.createdAt?.toDate?.() || new Date(order.createdAt)\r\n\r\n                    // Rating\r\n                    if (order.rating?.score) {\r\n                        totalRating += order.rating.score\r\n                        ratingCount++\r\n                    }\r\n\r\n                    // Completed orders\r\n                    if (order.status === \"completed\" || order.status === \"delivered\") {\r\n                        // Earnings\r\n                        const price = order.price || 0\r\n\r\n                        if (orderDate >= today) {\r\n                            completedToday++\r\n                            earningsToday += price\r\n                        }\r\n\r\n                        if (orderDate >= weekAgo) {\r\n                            earningsWeek += price\r\n                        }\r\n\r\n                        // Repair time (if tracked)\r\n                        if (order.repairTime) {\r\n                            totalRepairTime += order.repairTime\r\n                            repairTimeCount++\r\n                        }\r\n                    }\r\n                })\r\n\r\n                setStats({\r\n                    totalJobs: snapshot.docs.length,\r\n                    completedToday,\r\n                    avgRating: ratingCount > 0 ? totalRating / ratingCount : 0,\r\n                    avgRepairTime: repairTimeCount > 0 ? Math.round(totalRepairTime / repairTimeCount) : 0,\r\n                    earningsToday,\r\n                    earningsWeek\r\n                })\r\n            } catch (error) {\r\n                logger.error(\"Failed to fetch tech stats:\", error)\r\n            } finally {\r\n                setLoading(false)\r\n            }\r\n        }\r\n\r\n        fetchStats()\r\n    }, [technicianId])\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 animate-pulse\">\r\n                {[...Array(4)].map((_, i) => (\r\n                    <Card key={i} className=\"bg-white/5 border-white/10\">\r\n                        <CardContent className=\"p-4 h-20\" />\r\n                    </Card>\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n            <Card className=\"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/20\">\r\n                <CardContent className=\"p-4\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <TrendingUp className=\"w-4 h-4 text-green-400\" />\r\n                        <span className=\"text-xs text-green-400/70\">Today's Earnings</span>\r\n                    </div>\r\n                    <p className=\"text-2xl font-bold text-green-400\">{stats.earningsToday.toLocaleString()} <span className=\"text-sm font-normal\">AED</span></p>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"bg-white/5 border-white/10\">\r\n                <CardContent className=\"p-4\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <CheckCircle className=\"w-4 h-4 text-cyan-400\" />\r\n                        <span className=\"text-xs text-white/50\">Completed Today</span>\r\n                    </div>\r\n                    <p className=\"text-2xl font-bold text-white\">{stats.completedToday} <span className=\"text-sm font-normal text-white/50\">jobs</span></p>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"bg-white/5 border-white/10\">\r\n                <CardContent className=\"p-4\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <Star className=\"w-4 h-4 text-yellow-400\" />\r\n                        <span className=\"text-xs text-white/50\">Avg Rating</span>\r\n                    </div>\r\n                    <p className=\"text-2xl font-bold text-white\">\r\n                        {stats.avgRating > 0 ? stats.avgRating.toFixed(1) : \"â€”\"}\r\n                        <span className=\"text-sm font-normal text-white/50\">/5</span>\r\n                    </p>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"bg-white/5 border-white/10\">\r\n                <CardContent className=\"p-4\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <Zap className=\"w-4 h-4 text-purple-400\" />\r\n                        <span className=\"text-xs text-white/50\">Week Earnings</span>\r\n                    </div>\r\n                    <p className=\"text-2xl font-bold text-white\">{stats.earningsWeek.toLocaleString()} <span className=\"text-sm font-normal text-white/50\">AED</span></p>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}