{"version":3,"sources":["../../../../src/lib/i18n.ts","../../../../src/app/technician/order/page.tsx","../../../../src/lib/gpsService.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useLanguage as useLangProvider, useT as useTProvider } from \"@/components/providers/language-provider\"\r\n\r\nexport function useLanguage() {\r\n  const { lang, setLang } = useLangProvider()\r\n  const t = useTProvider()\r\n\r\n  return {\r\n    language: lang,\r\n    setLanguage: setLang,\r\n    t\r\n  }\r\n}\r\n","\"use client\"\r\n\r\nimport { Suspense, useEffect, useState } from \"react\"\r\nimport { useSearchParams, useRouter } from \"next/navigation\"\r\nimport {\r\n  ArrowLeft, Phone, MessageCircle, MapPin, Clock, Camera, CheckCircle, AlertTriangle, FileText, Send, Upload, Calendar,\r\n  User, Smartphone, Navigation, Timer\r\n} from \"lucide-react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport {\r\n  Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, DialogFooter\r\n} from \"@/components/ui/dialog\"\r\nimport {\r\n  Select, SelectContent, SelectItem, SelectTrigger, SelectValue\r\n} from \"@/components/ui/select\"\r\nimport { doc, getDoc, updateDoc, onSnapshot, arrayUnion, Timestamp, collection, addDoc, query, where, onSnapshot as onSnapshotCol } from \"firebase/firestore\"\r\nimport { db, auth, storage, isMockMode } from \"@/lib/firebaseConfig\"\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\"\r\nimport { useLanguage } from \"@/lib/i18n\"\r\nimport { cn, logger } from \"@/lib/utils\"\r\nimport { getCurrentLocation, formatLocation } from \"@/lib/gpsService\"\r\n\r\nconst mockUpload = async (file: File) => {\r\n  return new Promise<string>((resolve) => {\r\n    setTimeout(() => {\r\n      resolve(URL.createObjectURL(file))\r\n    }, 1000)\r\n  })\r\n}\r\n\r\nfunction TechnicianOrderClient() {\r\n  const search = useSearchParams()\r\n  const id = search.get(\"id\") || \"\"\r\n  const router = useRouter()\r\n  const { t, language } = useLanguage()\r\n  const [order, setOrder] = useState<any>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [note, setNote] = useState(\"\")\r\n  const [uploading, setUploading] = useState(false)\r\n  const [statusDialogOpen, setStatusDialogOpen] = useState(false)\r\n  const [newStatus, setNewStatus] = useState(\"\")\r\n  const [etaMinutes, setEtaMinutes] = useState<string>(\"\")\r\n  const [reqDialogOpen, setReqDialogOpen] = useState(false)\r\n  const [reqName, setReqName] = useState(\"\")\r\n  const [reqCategory, setReqCategory] = useState<\"spare_part\" | \"additional_service\" | \"\">(\"\")\r\n  const [reqQty, setReqQty] = useState<string>(\"1\")\r\n  const [reqPrice, setReqPrice] = useState<string>(\"\")\r\n  const [reqReason, setReqReason] = useState(\"\")\r\n  const [reqPhoto, setReqPhoto] = useState<string>(\"\")\r\n  const [hasPendingRequests, setHasPendingRequests] = useState(false)\r\n  const [checkingIn, setCheckingIn] = useState(false)\r\n  const [checkedIn, setCheckedIn] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setLoading(false)\r\n      return\r\n    }\r\n    setLoading(true)\r\n    if (isMockMode) {\r\n      setOrder({\r\n        id,\r\n        device: \"Device\",\r\n        issue: \"Issue\",\r\n        status: \"pending\",\r\n        customerPhone: \"\",\r\n        location: \"\",\r\n        createdAt: new Date().toISOString()\r\n      })\r\n      setHasPendingRequests(false)\r\n      setLoading(false)\r\n      return\r\n    }\r\n    const docRef = doc(db, \"orders\", id as string)\r\n    const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n      if (docSnap.exists()) {\r\n        setOrder({ id: docSnap.id, ...docSnap.data() })\r\n      }\r\n      setLoading(false)\r\n    }, (error) => {\r\n      logger.error(\"Order subscription error:\", error)\r\n      setLoading(false)\r\n    })\r\n    const reqQ = query(collection(db, \"tech_requests\"), where(\"orderId\", \"==\", id), where(\"status\", \"==\", \"pending\"))\r\n    const unsubReq = onSnapshotCol(reqQ, (snap) => {\r\n      setHasPendingRequests(snap.size > 0)\r\n    }, (error) => {\r\n      logger.error(\"Tech requests subscription error:\", error)\r\n    })\r\n    return () => { unsubscribe(); unsubReq() }\r\n  }, [id])\r\n\r\n  const handleStatusUpdate = async () => {\r\n    if (!newStatus || !order) return\r\n    if (newStatus === \"completed\" && hasPendingRequests) {\r\n      alert(t(\"Pending Admin Approval\"))\r\n      return\r\n    }\r\n    if (isMockMode) {\r\n      setOrder((prev: any) => {\r\n        if (!prev) return prev\r\n        const timeline = Array.isArray(prev.timeline) ? prev.timeline : []\r\n        return {\r\n          ...prev,\r\n          status: newStatus,\r\n          timeline: [...timeline, { status: newStatus, time: new Date().toISOString() }],\r\n          updatedAt: new Date().toISOString()\r\n        }\r\n      })\r\n      setStatusDialogOpen(false)\r\n      return\r\n    }\r\n    const u = auth.currentUser\r\n    if (!u || (order.technicianId && order.technicianId !== u.uid)) {\r\n      alert(t(\"Missing or insufficient permissions\"))\r\n      return\r\n    }\r\n    try {\r\n      const docRef = doc(db, \"orders\", id as string)\r\n      await updateDoc(docRef, {\r\n        status: newStatus,\r\n        timeline: arrayUnion({ status: newStatus, time: new Date().toISOString() }),\r\n        updatedAt: Timestamp.now()\r\n      })\r\n      setStatusDialogOpen(false)\r\n    } catch {\r\n      alert(t(\"Status update failed\"))\r\n    }\r\n  }\r\n\r\n  const handleSubmitRequest = async () => {\r\n    if (!order || !reqName || !reqCategory || !reqQty || !reqPrice || !reqReason) return\r\n    const qty = parseInt(reqQty, 10)\r\n    const price = parseFloat(reqPrice)\r\n    if (isNaN(qty) || qty <= 0 || isNaN(price) || price < 0) return\r\n    if (isMockMode) {\r\n      setHasPendingRequests(true)\r\n      setReqDialogOpen(false)\r\n      setReqName(\"\"); setReqCategory(\"\"); setReqQty(\"1\"); setReqPrice(\"\"); setReqReason(\"\"); setReqPhoto(\"\")\r\n      alert(t(\"Pending Admin Approval\"))\r\n      return\r\n    }\r\n    const u = auth.currentUser\r\n    if (!u || (order.technicianId && order.technicianId !== u.uid)) {\r\n      alert(t(\"Missing or insufficient permissions\"))\r\n      return\r\n    }\r\n    try {\r\n      await addDoc(collection(db, \"tech_requests\"), {\r\n        orderId: order.id,\r\n        technicianId: order.technicianId,\r\n        technicianName: order.technicianName,\r\n        partOrServiceName: reqName,\r\n        category: reqCategory,\r\n        quantity: qty,\r\n        estimatedPrice: price,\r\n        reason: reqReason,\r\n        photoUrl: reqPhoto || null,\r\n        status: \"pending\",\r\n        createdAt: Timestamp.now(),\r\n        history: [{ action: \"submitted\", by: \"technician\", at: Timestamp.now(), note: reqReason }]\r\n      })\r\n      const docRef = doc(db, \"orders\", order.id)\r\n      await updateDoc(docRef, {\r\n        status: order.status === \"in_progress\" ? \"waiting_parts\" : order.status,\r\n        pendingRequestsCount: (order.pendingRequestsCount || 0) + 1,\r\n        updatedAt: Timestamp.now()\r\n      })\r\n      setReqDialogOpen(false)\r\n      setReqName(\"\"); setReqCategory(\"\"); setReqQty(\"1\"); setReqPrice(\"\"); setReqReason(\"\"); setReqPhoto(\"\")\r\n      alert(t(\"Pending Admin Approval\"))\r\n    } catch {\r\n      alert(t(\"Submit request failed\"))\r\n    }\r\n  }\r\n\r\n  const handleAddNote = async () => {\r\n    if (!note.trim() || !order) return\r\n    const newNote = { text: note, time: new Date().toISOString(), user: \"Technician\" }\r\n    if (isMockMode) {\r\n      setOrder((prev: any) => {\r\n        if (!prev) return prev\r\n        const notes = Array.isArray(prev.notes) ? prev.notes : prev.notes ? Object.values(prev.notes) : []\r\n        return { ...prev, notes: [...notes, newNote] }\r\n      })\r\n      setNote(\"\")\r\n      return\r\n    }\r\n    const u = auth.currentUser\r\n    if (!u || (order.technicianId && order.technicianId !== u.uid)) {\r\n      alert(t(\"Missing or insufficient permissions\"))\r\n      return\r\n    }\r\n    try {\r\n      const docRef = doc(db, \"orders\", id as string)\r\n      await updateDoc(docRef, { notes: arrayUnion(newNote) })\r\n      setNote(\"\")\r\n    } catch {\r\n      alert(t(\"Add note failed\"))\r\n    }\r\n  }\r\n\r\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (!e.target.files || !e.target.files[0]) return\r\n    setUploading(true)\r\n    const file = e.target.files[0]\r\n    try {\r\n      let downloadURL = \"\"\r\n      if (!storage) {\r\n        downloadURL = await mockUpload(file)\r\n      } else {\r\n        if (isMockMode) {\r\n          downloadURL = await mockUpload(file)\r\n        } else {\r\n          const u = auth.currentUser\r\n          if (!u || (order?.technicianId && order.technicianId !== u.uid)) {\r\n            alert(t(\"Missing or insufficient permissions\"))\r\n            setUploading(false)\r\n            return\r\n          }\r\n          const storageRef = ref(storage, `orders/${id}/${file.name}`)\r\n          await uploadBytes(storageRef, file)\r\n          downloadURL = await getDownloadURL(storageRef)\r\n        }\r\n      }\r\n      const newAttachment = { url: downloadURL, name: file.name, type: file.type, time: new Date().toISOString() }\r\n      if (isMockMode) {\r\n        setOrder((prev: any) => {\r\n          if (!prev) return prev\r\n          const attachments = Array.isArray(prev.attachments) ? prev.attachments : prev.attachments ? Object.values(prev.attachments) : []\r\n          return { ...prev, attachments: [newAttachment, ...attachments] }\r\n        })\r\n      } else {\r\n        const docRef = doc(db, \"orders\", id as string)\r\n        await updateDoc(docRef, { attachments: arrayUnion(newAttachment) })\r\n      }\r\n    } catch {\r\n      alert(t(\"File upload failed\"))\r\n    } finally {\r\n      setUploading(false)\r\n    }\r\n  }\r\n\r\n  const handleEtaSave = async () => {\r\n    if (!etaMinutes || !order) return\r\n    const minutes = parseInt(etaMinutes, 10)\r\n    if (isNaN(minutes) || minutes < 0) return\r\n    const iso = new Date(Date.now() + minutes * 60000).toISOString()\r\n    if (isMockMode) {\r\n      setOrder((prev: any) => ({ ...prev, estimatedCompletion: iso, updatedAt: new Date().toISOString() }))\r\n      setEtaMinutes(\"\")\r\n      return\r\n    }\r\n    const u = auth.currentUser\r\n    if (!u || (order.technicianId && order.technicianId !== u.uid)) {\r\n      alert(t(\"Missing or insufficient permissions\"))\r\n      return\r\n    }\r\n    try {\r\n      const docRef = doc(db, \"orders\", id as string)\r\n      await updateDoc(docRef, { estimatedCompletion: iso, updatedAt: Timestamp.now() })\r\n      setEtaMinutes(\"\")\r\n    } catch {\r\n      alert(t(\"ETA save failed\"))\r\n    }\r\n  }\r\n\r\n  const handleCheckIn = async () => {\r\n    setCheckingIn(true)\r\n    try {\r\n      const location = await getCurrentLocation()\r\n      if (isMockMode) {\r\n        setOrder((prev: any) => {\r\n          if (!prev) return prev\r\n          const notes = Array.isArray(prev.notes) ? prev.notes : prev.notes ? Object.values(prev.notes) : []\r\n          return {\r\n            ...prev,\r\n            checkIn: { lat: location.lat, lng: location.lng, address: location.address || \"\", timestamp: new Date().toISOString() },\r\n            notes: [...notes, { text: `Checked in at: ${location.address || `${location.lat}, ${location.lng}`}`, time: new Date().toISOString(), user: \"Technician\" }],\r\n            updatedAt: new Date().toISOString()\r\n          }\r\n        })\r\n        setCheckedIn(true)\r\n        alert(t(\"Check-in successful!\"))\r\n      } else {\r\n        const u = auth.currentUser\r\n        if (!u || (order?.technicianId && order.technicianId !== u.uid)) {\r\n          alert(t(\"Missing or insufficient permissions\"))\r\n          setCheckingIn(false)\r\n          return\r\n        }\r\n        const docRef = doc(db, \"orders\", id as string)\r\n        await updateDoc(docRef, {\r\n          checkIn: { lat: location.lat, lng: location.lng, address: location.address || \"\", timestamp: Timestamp.now() },\r\n          notes: arrayUnion({ text: `Checked in at: ${location.address || `${location.lat}, ${location.lng}`}`, time: new Date().toISOString(), user: \"Technician\" }),\r\n          updatedAt: Timestamp.now()\r\n        })\r\n        setCheckedIn(true)\r\n        alert(t(\"Check-in successful!\"))\r\n      }\r\n    } catch (error: any) {\r\n      alert(t(\"Check-in failed: \") + error.message)\r\n    } finally {\r\n      setCheckingIn(false)\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case \"pending\": return \"text-yellow-500 bg-yellow-500/10\"\r\n      case \"in_progress\": return \"text-blue-500 bg-blue-500/10\"\r\n      case \"on_way\": return \"text-purple-500 bg-purple-500/10\"\r\n      case \"completed\": return \"text-green-500 bg-green-500/10\"\r\n      default: return \"text-gray-500 bg-gray-500/10\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black text-white p-4\">\r\n      <div className=\"text-center text-white/60\">Order details page requires ?id=ORDER_DOC_ID</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function TechnicianOrderDetails() {\r\n  return (\r\n    <Suspense\r\n      fallback={\r\n        <div className=\"min-h-screen bg-black text-white p-4\">\r\n          <div className=\"text-center text-white/60\">Loading...</div>\r\n        </div>\r\n      }\r\n    >\r\n      <TechnicianOrderClient />\r\n    </Suspense>\r\n  )\r\n}\r\n","/**\r\n * GPS Service for technician location tracking\r\n * Enables check-in/check-out at customer locations\r\n */\r\n\r\nexport interface LocationData {\r\n    lat: number\r\n    lng: number\r\n    accuracy: number\r\n    timestamp: number\r\n    address?: string\r\n}\r\n\r\nexport interface CheckInRecord {\r\n    orderId: string\r\n    technicianId: string\r\n    type: \"check_in\" | \"check_out\"\r\n    location: LocationData\r\n    timestamp: Date\r\n}\r\n\r\n/**\r\n * Get current GPS location\r\n */\r\nexport function getCurrentLocation(): Promise<LocationData> {\r\n    return new Promise((resolve, reject) => {\r\n        if (!navigator.geolocation) {\r\n            reject(new Error(\"Geolocation is not supported\"))\r\n            return\r\n        }\r\n\r\n        navigator.geolocation.getCurrentPosition(\r\n            async (position) => {\r\n                const { latitude, longitude, accuracy } = position.coords\r\n\r\n                // Optionally reverse geocode\r\n                let address: string | undefined\r\n                try {\r\n                    const response = await fetch(\r\n                        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`\r\n                    )\r\n                    const data = await response.json()\r\n                    address = data.display_name\r\n                } catch (e) {\r\n                    // Ignore geocoding errors\r\n                }\r\n\r\n                resolve({\r\n                    lat: latitude,\r\n                    lng: longitude,\r\n                    accuracy,\r\n                    timestamp: position.timestamp,\r\n                    address\r\n                })\r\n            },\r\n            (error) => {\r\n                reject(new Error(error.message))\r\n            },\r\n            { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\r\n        )\r\n    })\r\n}\r\n\r\n/**\r\n * Calculate distance between two points (Haversine formula)\r\n */\r\nexport function calculateDistance(\r\n    lat1: number,\r\n    lng1: number,\r\n    lat2: number,\r\n    lng2: number\r\n): number {\r\n    const R = 6371 // Earth's radius in km\r\n    const dLat = ((lat2 - lat1) * Math.PI) / 180\r\n    const dLng = ((lng2 - lng1) * Math.PI) / 180\r\n    const a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos((lat1 * Math.PI) / 180) *\r\n        Math.cos((lat2 * Math.PI) / 180) *\r\n        Math.sin(dLng / 2) *\r\n        Math.sin(dLng / 2)\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\r\n    return R * c // Distance in km\r\n}\r\n\r\n/**\r\n * Check if technician is within range of customer location (in km)\r\n */\r\nexport function isWithinRange(\r\n    techLat: number,\r\n    techLng: number,\r\n    customerLat: number,\r\n    customerLng: number,\r\n    maxDistanceKm: number = 0.5\r\n): boolean {\r\n    const distance = calculateDistance(techLat, techLng, customerLat, customerLng)\r\n    return distance <= maxDistanceKm\r\n}\r\n\r\n/**\r\n * Format location for display\r\n */\r\nexport function formatLocation(location: LocationData): string {\r\n    if (location.address) {\r\n        return location.address\r\n    }\r\n    return `${location.lat.toFixed(6)}, ${location.lng.toFixed(6)}`\r\n}\r\n\r\n/**\r\n * Watch position for real-time tracking\r\n */\r\nexport function watchLocation(\r\n    onUpdate: (location: LocationData) => void,\r\n    onError?: (error: Error) => void\r\n): number | null {\r\n    if (!navigator.geolocation) {\r\n        onError?.(new Error(\"Geolocation is not supported\"))\r\n        return null\r\n    }\r\n\r\n    return navigator.geolocation.watchPosition(\r\n        (position) => {\r\n            onUpdate({\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n                accuracy: position.coords.accuracy,\r\n                timestamp: position.timestamp\r\n            })\r\n        },\r\n        (error) => {\r\n            onError?.(new Error(error.message))\r\n        },\r\n        { enableHighAccuracy: true }\r\n    )\r\n}\r\n\r\n/**\r\n * Stop watching location\r\n */\r\nexport function stopWatchingLocation(watchId: number): void {\r\n    navigator.geolocation.clearWatch(watchId)\r\n}\r\n"],"names":[],"mappings":"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"}